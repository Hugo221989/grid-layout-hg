{"version":3,"sources":["./projects/angular-grid-layout/src/lib/grid.module.ts","./projects/angular-grid-layout/src/lib/grid.service.ts","./projects/demo-app/src/app/app.module.ts","./projects/demo-app/src/app/real-life-example/real-life-example.module.ts","./projects/demo-app/src/environments/environment.ts","./projects/angular-grid-layout/src/lib/utils/scroll.ts","./projects/demo-app/src/app/scroll-test/scroll-test.module.ts","./projects/angular-grid-layout/src/lib/grid.definitions.ts","./projects/angular-grid-layout/src/lib/utils/react-grid-layout.utils.ts","./projects/angular-grid-layout/src/lib/coercion/number-property.ts","./projects/demo-app/src/app/app-routing.module.ts","./projects/demo-app/src/app/real-life-example/real-life-example.component.ts","./projects/demo-app/src/app/real-life-example/real-life-example.component.html","./projects/angular-grid-layout/src/lib/utils/client-rect.ts","./projects/angular-grid-layout/src/lib/coercion/boolean-property.ts","./projects/angular-grid-layout/src/lib/grid.component.ts","./projects/angular-grid-layout/src/lib/grid.component.html","./projects/demo-app/src/app/custom-handles/custom-handles.component.ts","./projects/demo-app/src/app/custom-handles/custom-handles.component.html","./projects/demo-app/src/app/scroll-test/scroll-test.component.ts","./projects/demo-app/src/app/scroll-test/scroll-test.component.html","./projects/demo-app/$_lazy_route_resource lazy namespace object","./projects/angular-grid-layout/src/public-api.ts","./projects/demo-app/src/app/custom-handles/custom-handles.module.ts","./projects/angular-grid-layout/src/lib/utils/grid.utils.ts","./projects/angular-grid-layout/src/lib/utils/operators.ts","./projects/demo-app/src/app/playground/playground.component.ts","./projects/demo-app/src/app/playground/playground.component.html","./projects/demo-app/src/app/utils.ts","./projects/demo-app/src/app/real-life-example/data/countries-population.data.ts","./projects/demo-app/src/main.ts","./projects/demo-app/src/app/playground/playground.module.ts","./projects/demo-app/src/app/real-life-example/table-sorting/table-sorting.component.ts","./projects/demo-app/src/app/real-life-example/table-sorting/table-sorting.component.html","./projects/angular-grid-layout/src/lib/grid-item/grid-item.component.ts","./projects/angular-grid-layout/src/lib/grid-item/grid-item.component.html","./projects/angular-grid-layout/src/lib/utils/pointer.utils.ts","./projects/angular-grid-layout/src/lib/utils/passive-listeners.ts","./projects/angular-grid-layout/src/lib/directives/resize-handle.ts","./projects/demo-app/src/app/app.component.ts","./projects/demo-app/src/app/app.component.html","./projects/angular-grid-layout/src/lib/directives/drag-handle.ts"],"names":[],"mappings":"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,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAC;YACjC,EAAC,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAC;YACjC,EAAC,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAC;YACjC,EAAC,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAC;YACjC,EAAC,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAC;YACjC,EAAC,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAC;YACjC,EAAC,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAC;YACjC,EAAC,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAC;YAGjC,EAAC,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAC;YACjC,EAAC,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAC;YAClC,EAAC,EAAE,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAC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","file":"main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { KtdGridComponent } from './grid.component';\nimport { KtdGridItemComponent } from './grid-item/grid-item.component';\nimport { KtdGridDragHandle } from './directives/drag-handle';\nimport { KtdGridResizeHandle } from './directives/resize-handle';\nimport { KtdGridService } from './grid.service';\n\n@NgModule({\n    declarations: [\n        KtdGridComponent,\n        KtdGridItemComponent,\n        KtdGridDragHandle,\n        KtdGridResizeHandle\n    ],\n    exports: [\n        KtdGridComponent,\n        KtdGridItemComponent,\n        KtdGridDragHandle,\n        KtdGridResizeHandle\n    ],\n    providers: [\n        KtdGridService\n    ],\n    imports: [\n        CommonModule\n    ]\n})\nexport class KtdGridModule {}\n","import { Injectable, NgZone, OnDestroy } from '@angular/core';\nimport { ktdNormalizePassiveListenerOptions } from './utils/passive-listeners';\nimport { fromEvent, iif, Observable, Subject, Subscription } from 'rxjs';\nimport { filter } from 'rxjs/operators';\nimport { ktdIsMobileOrTablet } from './utils/pointer.utils';\n\n/** Event options that can be used to bind an active, capturing event. */\nconst activeCapturingEventOptions = ktdNormalizePassiveListenerOptions({\n    passive: false,\n    capture: true\n});\n\n@Injectable({providedIn: 'root'})\nexport class KtdGridService implements OnDestroy {\n\n    touchMove$: Observable<TouchEvent>;\n    private touchMoveSubject: Subject<TouchEvent> = new Subject<TouchEvent>();\n    private touchMoveSubscription: Subscription;\n\n    constructor(private ngZone: NgZone) {\n        this.touchMove$ = this.touchMoveSubject.asObservable();\n        this.registerTouchMoveSubscription();\n    }\n\n    ngOnDestroy() {\n        this.touchMoveSubscription.unsubscribe();\n    }\n\n    mouseOrTouchMove$(element): Observable<MouseEvent | TouchEvent> {\n        return iif(\n            () => ktdIsMobileOrTablet(),\n            this.touchMove$,\n            fromEvent<MouseEvent>(element, 'mousemove', activeCapturingEventOptions as AddEventListenerOptions) // TODO: Fix rxjs typings, boolean should be a good param too.\n        );\n    }\n\n    private registerTouchMoveSubscription() {\n        // The `touchmove` event gets bound once, ahead of time, because WebKit\n        // won't preventDefault on a dynamically-added `touchmove` listener.\n        // See https://bugs.webkit.org/show_bug.cgi?id=184250.\n        this.touchMoveSubscription = this.ngZone.runOutsideAngular(() =>\n            // The event handler has to be explicitly active,\n            // because newer browsers make it passive by default.\n            fromEvent(document, 'touchmove', activeCapturingEventOptions as AddEventListenerOptions) // TODO: Fix rxjs typings, boolean should be a good param too.\n                .pipe(filter((touchEvent: TouchEvent) => touchEvent.touches.length === 1))\n                .subscribe((touchEvent: TouchEvent) => this.touchMoveSubject.next(touchEvent))\n        );\n    }\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { KtdAppComponent } from './app.component';\nimport { KtdAppRoutingModule } from './app-routing.module';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\n\n@NgModule({\n    declarations: [\n        KtdAppComponent\n    ],\n    imports: [\n        BrowserModule,\n        BrowserAnimationsModule,\n        KtdAppRoutingModule\n    ],\n    providers: [],\n    bootstrap: [KtdAppComponent]\n})\nexport class KtdAppModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { KtdRealLifeExampleComponent } from './real-life-example.component';\nimport { RouterModule, Routes } from '@angular/router';\nimport { MatIconModule } from '@angular/material/icon';\nimport { KtdGridModule } from 'projects/angular-grid-layout/src/public-api';\nimport { NgxChartsModule } from '@swimlane/ngx-charts';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatTableModule } from '@angular/material/table';\nimport { KtdTableSortingComponent } from './table-sorting/table-sorting.component';\nimport { MatSortModule } from '@angular/material/sort';\n\nconst routes: Routes = [\n    {path: 'real-life-example', component: KtdRealLifeExampleComponent},\n];\n\n@NgModule({\n    declarations: [\n        KtdRealLifeExampleComponent,\n        KtdTableSortingComponent\n    ],\n    imports: [\n        CommonModule,\n        RouterModule.forChild(routes),\n        MatIconModule,\n        KtdGridModule,\n        NgxChartsModule,\n        MatCardModule,\n        MatTableModule,\n        MatSortModule\n    ]\n})\nexport class KtdRealLifeExampleModule {}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { animationFrameScheduler, fromEvent, interval, NEVER, Observable } from 'rxjs';\nimport { distinctUntilChanged, map, switchMap, tap } from 'rxjs/operators';\nimport { ktdNormalizePassiveListenerOptions } from './passive-listeners';\nimport { getMutableClientRect } from './client-rect';\nimport { ktdNoEmit } from './operators';\n\n/**\n * Proximity, as a ratio to width/height at which to start auto-scrolling.\n * The value comes from trying it out manually until it feels right.\n */\nconst SCROLL_PROXIMITY_THRESHOLD = 0.05;\n\n/** Vertical direction in which we can auto-scroll. */\nconst enum AutoScrollVerticalDirection {NONE, UP, DOWN}\n\n/** Horizontal direction in which we can auto-scroll. */\nconst enum AutoScrollHorizontalDirection {NONE, LEFT, RIGHT}\n\nexport interface KtdScrollPosition {\n    top: number;\n    left: number;\n}\n\n\n/**\n * Increments the vertical scroll position of a node.\n * @param node Node whose scroll position should change.\n * @param amount Amount of pixels that the `node` should be scrolled.\n */\nfunction incrementVerticalScroll(node: HTMLElement | Window, amount: number) {\n    if (node === window) {\n        (node as Window).scrollBy(0, amount);\n    } else {\n        // Ideally we could use `Element.scrollBy` here as well, but IE and Edge don't support it.\n        (node as HTMLElement).scrollTop += amount;\n    }\n}\n\n/**\n * Increments the horizontal scroll position of a node.\n * @param node Node whose scroll position should change.\n * @param amount Amount of pixels that the `node` should be scrolled.\n */\nfunction incrementHorizontalScroll(node: HTMLElement | Window, amount: number) {\n    if (node === window) {\n        (node as Window).scrollBy(amount, 0);\n    } else {\n        // Ideally we could use `Element.scrollBy` here as well, but IE and Edge don't support it.\n        (node as HTMLElement).scrollLeft += amount;\n    }\n}\n\n\n/**\n * Gets whether the vertical auto-scroll direction of a node.\n * @param clientRect Dimensions of the node.\n * @param pointerY Position of the user's pointer along the y axis.\n */\nfunction getVerticalScrollDirection(clientRect: ClientRect, pointerY: number) {\n    const {top, bottom, height} = clientRect;\n    const yThreshold = height * SCROLL_PROXIMITY_THRESHOLD;\n\n    if (pointerY >= top - yThreshold && pointerY <= top + yThreshold) {\n        return AutoScrollVerticalDirection.UP;\n    } else if (pointerY >= bottom - yThreshold && pointerY <= bottom + yThreshold) {\n        return AutoScrollVerticalDirection.DOWN;\n    }\n\n    return AutoScrollVerticalDirection.NONE;\n}\n\n/**\n * Gets whether the horizontal auto-scroll direction of a node.\n * @param clientRect Dimensions of the node.\n * @param pointerX Position of the user's pointer along the x axis.\n */\nfunction getHorizontalScrollDirection(clientRect: ClientRect, pointerX: number) {\n    const {left, right, width} = clientRect;\n    const xThreshold = width * SCROLL_PROXIMITY_THRESHOLD;\n\n    if (pointerX >= left - xThreshold && pointerX <= left + xThreshold) {\n        return AutoScrollHorizontalDirection.LEFT;\n    } else if (pointerX >= right - xThreshold && pointerX <= right + xThreshold) {\n        return AutoScrollHorizontalDirection.RIGHT;\n    }\n\n    return AutoScrollHorizontalDirection.NONE;\n}\n\n/**\n * Returns an observable that schedules a loop and apply scroll on the scrollNode into the specified direction/s.\n * This observable doesn't emit, it just performs the 'scroll' side effect.\n * @param scrollNode, node where the scroll would be applied.\n * @param verticalScrollDirection, vertical direction of the scroll.\n * @param horizontalScrollDirection, horizontal direction of the scroll.\n * @param scrollStep, scroll step in CSS pixels that would be applied in every loop.\n */\nfunction scrollToDirectionInterval$(scrollNode: HTMLElement | Window, verticalScrollDirection: AutoScrollVerticalDirection, horizontalScrollDirection: AutoScrollHorizontalDirection, scrollStep: number = 2) {\n    return interval(0, animationFrameScheduler)\n        .pipe(\n            tap(() => {\n                if (verticalScrollDirection === AutoScrollVerticalDirection.UP) {\n                    incrementVerticalScroll(scrollNode, -scrollStep);\n                } else if (verticalScrollDirection === AutoScrollVerticalDirection.DOWN) {\n                    incrementVerticalScroll(scrollNode, scrollStep);\n                }\n\n                if (horizontalScrollDirection === AutoScrollHorizontalDirection.LEFT) {\n                    incrementHorizontalScroll(scrollNode, -scrollStep);\n                } else if (horizontalScrollDirection === AutoScrollHorizontalDirection.RIGHT) {\n                    incrementHorizontalScroll(scrollNode, scrollStep);\n                }\n            }),\n            ktdNoEmit()\n        );\n}\n\nexport interface KtdScrollIfNearElementOptions {\n    scrollStep?: number;\n    disableVertical?: boolean;\n    disableHorizontal?: boolean;\n}\n\n/**\n * Given a source$ observable with pointer location, scroll the scrollNode if the pointer is near to it.\n * This observable doesn't emit, it just performs a 'scroll' side effect.\n * @param scrollableParent, parent node in which the scroll would be performed.\n * @param options, configuration options.\n */\nexport function ktdScrollIfNearElementClientRect$(scrollableParent: HTMLElement | Document, options?: KtdScrollIfNearElementOptions): (source$: Observable<{ pointerX: number, pointerY: number }>) => Observable<any> {\n\n    let scrollNode: Window | HTMLElement;\n    let scrollableParentClientRect: ClientRect;\n    let scrollableParentScrollWidth: number;\n\n    if (scrollableParent === document) {\n        scrollNode = document.defaultView as Window;\n        const {width, height} = getViewportSize();\n        scrollableParentClientRect = {width, height, top: 0, right: width, bottom: height, left: 0};\n        scrollableParentScrollWidth = getDocumentScrollWidth();\n    } else {\n        scrollNode = scrollableParent as HTMLElement;\n        scrollableParentClientRect = getMutableClientRect(scrollableParent as HTMLElement);\n        scrollableParentScrollWidth = (scrollableParent as HTMLElement).scrollWidth;\n    }\n\n    /**\n     * IMPORTANT: By design, only let scroll horizontal if the scrollable parent has explicitly an scroll horizontal.\n     * This layout solution is not designed in mind to have any scroll horizontal, but exceptionally we allow it in this\n     * specific use case.\n     */\n    options = options || {};\n    if (options.disableHorizontal == null && scrollableParentScrollWidth <= scrollableParentClientRect.width) {\n        options.disableHorizontal = true;\n    }\n\n    return (source$) => source$.pipe(\n        map(({pointerX, pointerY}) => {\n            let verticalScrollDirection = getVerticalScrollDirection(scrollableParentClientRect, pointerY);\n            let horizontalScrollDirection = getHorizontalScrollDirection(scrollableParentClientRect, pointerX);\n\n            // Check if scroll directions are disabled.\n            if (options?.disableVertical) {\n                verticalScrollDirection = AutoScrollVerticalDirection.NONE;\n            }\n            if (options?.disableHorizontal) {\n                horizontalScrollDirection = AutoScrollHorizontalDirection.NONE;\n            }\n\n            return {verticalScrollDirection, horizontalScrollDirection};\n        }),\n        distinctUntilChanged((prev, actual) => {\n            return prev.verticalScrollDirection === actual.verticalScrollDirection\n                && prev.horizontalScrollDirection === actual.horizontalScrollDirection;\n        }),\n        switchMap(({verticalScrollDirection, horizontalScrollDirection}) => {\n            if (verticalScrollDirection || horizontalScrollDirection) {\n                return scrollToDirectionInterval$(scrollNode, verticalScrollDirection, horizontalScrollDirection, options?.scrollStep);\n            } else {\n                return NEVER;\n            }\n        })\n    );\n}\n\n/**\n * Emits on EVERY scroll event and returns the accumulated scroll offset relative to the initial scroll position.\n * @param scrollableParent, node in which scroll events would be listened.\n */\nexport function ktdGetScrollTotalRelativeDifference$(scrollableParent: HTMLElement | Document): Observable<{ top: number, left: number }> {\n    let scrollInitialPosition;\n\n    // Calculate initial scroll position\n    if (scrollableParent === document) {\n        scrollInitialPosition = getViewportScrollPosition();\n    } else {\n        scrollInitialPosition = {\n            top: (scrollableParent as HTMLElement).scrollTop,\n            left: (scrollableParent as HTMLElement).scrollLeft\n        };\n    }\n\n    return fromEvent(scrollableParent, 'scroll', ktdNormalizePassiveListenerOptions({capture: true}) as AddEventListenerOptions).pipe(\n        map(() => {\n            let newTop: number;\n            let newLeft: number;\n\n            if (scrollableParent === document) {\n                const viewportScrollPosition = getViewportScrollPosition();\n                newTop = viewportScrollPosition.top;\n                newLeft = viewportScrollPosition.left;\n            } else {\n                newTop = (scrollableParent as HTMLElement).scrollTop;\n                newLeft = (scrollableParent as HTMLElement).scrollLeft;\n            }\n\n            const topDifference = scrollInitialPosition.top - newTop;\n            const leftDifference = scrollInitialPosition.left - newLeft;\n\n            return {top: topDifference, left: leftDifference};\n        })\n    );\n\n}\n\n/** Returns the viewport's width and height. */\nfunction getViewportSize(): { width: number, height: number } {\n    const _window = document.defaultView || window;\n    return {\n        width: _window.innerWidth,\n        height: _window.innerHeight\n    };\n\n}\n\n/** Gets a ClientRect for the viewport's bounds. */\nfunction getViewportRect(): ClientRect {\n    // Use the document element's bounding rect rather than the window scroll properties\n    // (e.g. pageYOffset, scrollY) due to in issue in Chrome and IE where window scroll\n    // properties and client coordinates (boundingClientRect, clientX/Y, etc.) are in different\n    // conceptual viewports. Under most circumstances these viewports are equivalent, but they\n    // can disagree when the page is pinch-zoomed (on devices that support touch).\n    // See https://bugs.chromium.org/p/chromium/issues/detail?id=489206#c4\n    // We use the documentElement instead of the body because, by default (without a css reset)\n    // browsers typically give the document body an 8px margin, which is not included in\n    // getBoundingClientRect().\n    const scrollPosition = getViewportScrollPosition();\n    const {width, height} = getViewportSize();\n\n    return {\n        top: scrollPosition.top,\n        left: scrollPosition.left,\n        bottom: scrollPosition.top + height,\n        right: scrollPosition.left + width,\n        height,\n        width,\n    };\n}\n\n/** Gets the (top, left) scroll position of the viewport. */\nfunction getViewportScrollPosition(): { top: number, left: number } {\n\n    // The top-left-corner of the viewport is determined by the scroll position of the document\n    // body, normally just (scrollLeft, scrollTop). However, Chrome and Firefox disagree about\n    // whether `document.body` or `document.documentElement` is the scrolled element, so reading\n    // `scrollTop` and `scrollLeft` is inconsistent. However, using the bounding rect of\n    // `document.documentElement` works consistently, where the `top` and `left` values will\n    // equal negative the scroll position.\n    const windowRef = document.defaultView || window;\n    const documentElement = document.documentElement!;\n    const documentRect = documentElement.getBoundingClientRect();\n\n    const top = -documentRect.top || document.body.scrollTop || windowRef.scrollY ||\n        documentElement.scrollTop || 0;\n\n    const left = -documentRect.left || document.body.scrollLeft || windowRef.scrollX ||\n        documentElement.scrollLeft || 0;\n\n    return {top, left};\n}\n\n/** Returns the document scroll width */\nfunction getDocumentScrollWidth() {\n    return Math.max(document.body.scrollWidth, document.documentElement.scrollWidth);\n}\n\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { KtdScrollTestComponent } from './scroll-test.component';\nimport { RouterModule, Routes } from '@angular/router';\nimport { KtdGridModule } from 'projects/angular-grid-layout/src/public-api';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\n\nconst routes: Routes = [\n    {path: 'scroll-test', component: KtdScrollTestComponent},\n];\n\n@NgModule({\n    declarations: [\n        KtdScrollTestComponent\n    ],\n    imports: [\n        CommonModule,\n        RouterModule.forChild(routes),\n        KtdGridModule,\n        MatFormFieldModule,\n        MatInputModule\n    ]\n})\nexport class KtdScrollTestModule {}\n","import { InjectionToken } from '@angular/core';\nimport { CompactType } from './utils/react-grid-layout.utils';\n\nexport interface KtdGridLayoutItem {\n    id: string;\n    x: number;\n    y: number;\n    w: number;\n    h: number;\n    content?: Widget;\n    idItem?: number;\n    hierarchyId?: number;\n}\n\nexport type KtdGridCompactType = CompactType;\n\nexport interface KtdGridCfg {\n    cols: number;\n    rowHeight: number; // row height in pixels\n    layout: KtdGridLayoutItem[];\n    preventCollision: boolean;\n}\n\nexport type KtdGridLayout = KtdGridLayoutItem[];\n\n// TODO: Remove this interface. If can't remove, move and rename this interface in the core module or similar.\nexport interface KtdGridItemRect {\n    top: number;\n    left: number;\n    width: number;\n    height: number;\n}\n\nexport interface KtdGridItemRenderData<T = number | string> {\n    id: string;\n    top: T;\n    left: T;\n    width: T;\n    height: T;\n    content?: Widget;\n}\nexport interface Widget {\n    id: number;\n    name: string;\n    content: string;\n    idLayout: string;\n    show: boolean;\n    size: number;\n    hierarchyId: number;\n}\n\n/**\n * We inject a token because of the 'circular dependency issue warning'. In case we don't had this issue with the circular dependency, we could just\n * import KtdGridComponent on KtdGridItem and execute the needed function to get the rendering data.\n */\nexport type KtdGridItemRenderDataTokenType = (id: string) => KtdGridItemRenderData<string>;\nexport const GRID_ITEM_GET_RENDER_DATA_TOKEN: InjectionToken<KtdGridItemRenderDataTokenType> = new InjectionToken('GRID_ITEM_GET_RENDER_DATA_TOKEN');\n\nexport interface KtdDraggingData {\n    pointerDownEvent: MouseEvent | TouchEvent;\n    pointerDragEvent: MouseEvent | TouchEvent;\n    gridElemClientRect: ClientRect;\n    dragElemClientRect: ClientRect;\n    scrollDifference: { top: number, left: number };\n}\n","\n/**\n * IMPORTANT:\n * This utils are taken from the project: https://github.com/STRML/react-grid-layout.\n * The code should be as less modified as possible for easy maintenance.\n */\n\n// Disable lint since we don't want to modify this code\n// tslint:disable\nexport type LayoutItem = {\n    w: number;\n    h: number;\n    x: number;\n    y: number;\n    id: string;\n    minW?: number;\n    minH?: number;\n    maxW?: number;\n    maxH?: number;\n    moved?: boolean;\n    static?: boolean;\n    isDraggable?: boolean | null | undefined;\n    isResizable?: boolean | null | undefined;\n};\nexport type Layout = Array<LayoutItem>;\nexport type Position = {\n    left: number;\n    top: number;\n    width: number;\n    height: number;\n};\nexport type ReactDraggableCallbackData = {\n    node: HTMLElement;\n    x?: number;\n    y?: number;\n    deltaX: number;\n    deltaY: number;\n    lastX?: number;\n    lastY?: number;\n};\n\nexport type PartialPosition = { left: number; top: number };\nexport type DroppingPosition = { x: number; y: number; e: Event };\nexport type Size = { width: number; height: number };\nexport type GridDragEvent = {\n    e: Event;\n    node: HTMLElement;\n    newPosition: PartialPosition;\n};\nexport type GridResizeEvent = { e: Event; node: HTMLElement; size: Size };\nexport type DragOverEvent = MouseEvent & {\n    nativeEvent: {\n        layerX: number;\n        layerY: number;\n        target: {\n            className: String;\n        };\n    };\n};\n\n//type REl = ReactElement<any>;\n//export type ReactChildren = ReactChildrenArray<REl>;\n\n// All callbacks are of the signature (layout, oldItem, newItem, placeholder, e).\nexport type EventCallback = (\n    arg0: Layout,\n    oldItem: LayoutItem | null | undefined,\n    newItem: LayoutItem | null | undefined,\n    placeholder: LayoutItem | null | undefined,\n    arg4: Event,\n    arg5: HTMLElement | null | undefined,\n) => void;\nexport type CompactType = ('horizontal' | 'vertical') | null | undefined;\n\nconst DEBUG = false;\n\n/**\n * Return the bottom coordinate of the layout.\n *\n * @param  {Array} layout Layout array.\n * @return {Number}       Bottom coordinate.\n */\nexport function bottom(layout: Layout): number {\n    let max = 0,\n        bottomY;\n    for (let i = 0, len = layout.length; i < len; i++) {\n        bottomY = layout[i].y + layout[i].h;\n        if (bottomY > max) {\n            max = bottomY;\n        }\n    }\n    return max;\n}\n\nexport function cloneLayout(layout: Layout): Layout {\n    const newLayout = Array(layout.length);\n    for (let i = 0, len = layout.length; i < len; i++) {\n        newLayout[i] = cloneLayoutItem(layout[i]);\n    }\n    return newLayout;\n}\n\n// Fast path to cloning, since this is monomorphic\n/** NOTE: This code has been modified from the original source */\nexport function cloneLayoutItem(layoutItem: LayoutItem): LayoutItem {\n    const clonedLayoutItem: LayoutItem = {\n        w: layoutItem.w,\n        h: layoutItem.h,\n        x: layoutItem.x,\n        y: layoutItem.y,\n        id: layoutItem.id,\n        moved: !!layoutItem.moved,\n        static: !!layoutItem.static,\n    };\n\n    if (layoutItem.minW !== undefined) { clonedLayoutItem.minW = layoutItem.minW;}\n    if (layoutItem.maxW !== undefined) { clonedLayoutItem.maxW = layoutItem.maxW;}\n    if (layoutItem.minH !== undefined) { clonedLayoutItem.minH = layoutItem.minH;}\n    if (layoutItem.maxH !== undefined) { clonedLayoutItem.maxH = layoutItem.maxH;}\n    // These can be null\n    if (layoutItem.isDraggable !== undefined) { clonedLayoutItem.isDraggable = layoutItem.isDraggable;}\n    if (layoutItem.isResizable !== undefined) { clonedLayoutItem.isResizable = layoutItem.isResizable;}\n\n    return clonedLayoutItem;\n}\n\n/**\n * Given two layoutitems, check if they collide.\n */\nexport function collides(l1: LayoutItem, l2: LayoutItem): boolean {\n    if (l1.id === l2.id) {\n        return false;\n    } // same element\n    if (l1.x + l1.w <= l2.x) {\n        return false;\n    } // l1 is left of l2\n    if (l1.x >= l2.x + l2.w) {\n        return false;\n    } // l1 is right of l2\n    if (l1.y + l1.h <= l2.y) {\n        return false;\n    } // l1 is above l2\n    if (l1.y >= l2.y + l2.h) {\n        return false;\n    } // l1 is below l2\n    return true; // boxes overlap\n}\n\n/**\n * Given a layout, compact it. This involves going down each y coordinate and removing gaps\n * between items.\n *\n * @param  {Array} layout Layout.\n * @param  {Boolean} verticalCompact Whether or not to compact the layout\n *   vertically.\n * @return {Array}       Compacted Layout.\n */\nexport function compact(\n    layout: Layout,\n    compactType: CompactType,\n    cols: number,\n): Layout {\n    // Statics go in the compareWith array right away so items flow around them.\n    const compareWith = getStatics(layout);\n    // We go through the items by row and column.\n    const sorted = sortLayoutItems(layout, compactType);\n    // Holding for new items.\n    const out = Array(layout.length);\n\n    for (let i = 0, len = sorted.length; i < len; i++) {\n        let l = cloneLayoutItem(sorted[i]);\n\n        // Don't move static elements\n        if (!l.static) {\n            l = compactItem(compareWith, l, compactType, cols, sorted);\n\n            // Add to comparison array. We only collide with items before this one.\n            // Statics are already in this array.\n            compareWith.push(l);\n        }\n\n        // Add to output array to make sure they still come out in the right order.\n        out[layout.indexOf(sorted[i])] = l;\n\n        // Clear moved flag, if it exists.\n        l.moved = false;\n    }\n\n    return out;\n}\n\nconst heightWidth = {x: 'w', y: 'h'};\n\n/**\n * Before moving item down, it will check if the movement will cause collisions and move those items down before.\n */\nfunction resolveCompactionCollision(\n    layout: Layout,\n    item: LayoutItem,\n    moveToCoord: number,\n    axis: 'x' | 'y',\n) {\n    const sizeProp = heightWidth[axis];\n    item[axis] += 1;\n    const itemIndex = layout\n        .map(layoutItem => {\n            return layoutItem.id;\n        })\n        .indexOf(item.id);\n\n    // Go through each item we collide with.\n    for (let i = itemIndex + 1; i < layout.length; i++) {\n        const otherItem = layout[i];\n        // Ignore static items\n        if (otherItem.static) {\n            continue;\n        }\n\n        // Optimization: we can break early if we know we're past this el\n        // We can do this b/c it's a sorted layout\n        if (otherItem.y > item.y + item.h) {\n            break;\n        }\n\n        if (collides(item, otherItem)) {\n            resolveCompactionCollision(\n                layout,\n                otherItem,\n                moveToCoord + item[sizeProp],\n                axis,\n            );\n        }\n    }\n\n    item[axis] = moveToCoord;\n}\n\n/**\n * Compact an item in the layout.\n */\nexport function compactItem(\n    compareWith: Layout,\n    l: LayoutItem,\n    compactType: CompactType,\n    cols: number,\n    fullLayout: Layout,\n): LayoutItem {\n    const compactV = compactType === 'vertical';\n    const compactH = compactType === 'horizontal';\n    if (compactV) {\n        // Bottom 'y' possible is the bottom of the layout.\n        // This allows you to do nice stuff like specify {y: Infinity}\n        // This is here because the layout must be sorted in order to get the correct bottom `y`.\n        l.y = Math.min(bottom(compareWith), l.y);\n        // Move the element up as far as it can go without colliding.\n        while (l.y > 0 && !getFirstCollision(compareWith, l)) {\n            l.y--;\n        }\n    } else if (compactH) {\n        l.y = Math.min(bottom(compareWith), l.y);\n        // Move the element left as far as it can go without colliding.\n        while (l.x > 0 && !getFirstCollision(compareWith, l)) {\n            l.x--;\n        }\n    }\n\n    // Move it down, and keep moving it down if it's colliding.\n    let collides;\n    while ((collides = getFirstCollision(compareWith, l))) {\n        if (compactH) {\n            resolveCompactionCollision(\n                fullLayout,\n                l,\n                collides.x + collides.w,\n                'x',\n            );\n        } else {\n            resolveCompactionCollision(\n                fullLayout,\n                l,\n                collides.y + collides.h,\n                'y',\n            );\n        }\n        // Since we can't grow without bounds horizontally, if we've overflown, let's move it down and try again.\n        if (compactH && l.x + l.w > cols) {\n            l.x = cols - l.w;\n            l.y++;\n        }\n    }\n    return l;\n}\n\n/**\n * Given a layout, make sure all elements fit within its bounds.\n *\n * @param  {Array} layout Layout array.\n * @param  {Number} bounds Number of columns.\n */\nexport function correctBounds(layout: Layout, bounds: { cols: number }): Layout {\n    const collidesWith = getStatics(layout);\n    for (let i = 0, len = layout.length; i < len; i++) {\n        const l = layout[i];\n        // Overflows right\n        if (l.x + l.w > bounds.cols) {\n            l.x = bounds.cols - l.w;\n        }\n        // Overflows left\n        if (l.x < 0) {\n            l.x = 0;\n            l.w = bounds.cols;\n        }\n        if (!l.static) {\n            collidesWith.push(l);\n        } else {\n            // If this is static and collides with other statics, we must move it down.\n            // We have to do something nicer than just letting them overlap.\n            while (getFirstCollision(collidesWith, l)) {\n                l.y++;\n            }\n        }\n    }\n    return layout;\n}\n\n/**\n * Get a layout item by ID. Used so we can override later on if necessary.\n *\n * @param  {Array}  layout Layout array.\n * @param  {String} id     ID\n * @return {LayoutItem}    Item at ID.\n */\nexport function getLayoutItem(\n    layout: Layout,\n    id: string,\n): LayoutItem | null | undefined {\n    for (let i = 0, len = layout.length; i < len; i++) {\n        if (layout[i].id === id) {\n            return layout[i];\n        }\n    }\n    return null;\n}\n\n/**\n * Returns the first item this layout collides with.\n * It doesn't appear to matter which order we approach this from, although\n * perhaps that is the wrong thing to do.\n *\n * @param  {Object} layoutItem Layout item.\n * @return {Object|undefined}  A colliding layout item, or undefined.\n */\nexport function getFirstCollision(\n    layout: Layout,\n    layoutItem: LayoutItem,\n): LayoutItem | null | undefined {\n    for (let i = 0, len = layout.length; i < len; i++) {\n        if (collides(layout[i], layoutItem)) {\n            return layout[i];\n        }\n    }\n    return null;\n}\n\nexport function getAllCollisions(\n    layout: Layout,\n    layoutItem: LayoutItem,\n): Array<LayoutItem> {\n    return layout.filter(l => collides(l, layoutItem));\n}\n\n/**\n * Get all static elements.\n * @param  {Array} layout Array of layout objects.\n * @return {Array}        Array of static layout items..\n */\nexport function getStatics(layout: Layout): Array<LayoutItem> {\n    return layout.filter(l => l.static);\n}\n\n/**\n * Move an element. Responsible for doing cascading movements of other elements.\n *\n * @param  {Array}      layout            Full layout to modify.\n * @param  {LayoutItem} l                 element to move.\n * @param  {Number}     [x]               X position in grid units.\n * @param  {Number}     [y]               Y position in grid units.\n */\nexport function moveElement(\n    layout: Layout,\n    l: LayoutItem,\n    x: number | null | undefined,\n    y: number | null | undefined,\n    isUserAction: boolean | null | undefined,\n    preventCollision: boolean | null | undefined,\n    compactType: CompactType,\n    cols: number,\n): Layout {\n    // If this is static and not explicitly enabled as draggable,\n    // no move is possible, so we can short-circuit this immediately.\n    if (l.static && l.isDraggable !== true) {\n        return layout;\n    }\n\n    // Short-circuit if nothing to do.\n    if (l.y === y && l.x === x) {\n        return layout;\n    }\n\n    log(\n        `Moving element ${l.id} to [${String(x)},${String(y)}] from [${l.x},${\n            l.y\n        }]`,\n    );\n    const oldX = l.x;\n    const oldY = l.y;\n\n    // This is quite a bit faster than extending the object\n    if (typeof x === 'number') {\n        l.x = x;\n    }\n    if (typeof y === 'number') {\n        l.y = y;\n    }\n    l.moved = true;\n\n    // If this collides with anything, move it.\n    // When doing this comparison, we have to sort the items we compare with\n    // to ensure, in the case of multiple collisions, that we're getting the\n    // nearest collision.\n    let sorted = sortLayoutItems(layout, compactType);\n    const movingUp =\n        compactType === 'vertical' && typeof y === 'number'\n            ? oldY >= y\n            : compactType === 'horizontal' && typeof x === 'number'\n            ? oldX >= x\n            : false;\n    if (movingUp) {\n        sorted = sorted.reverse();\n    }\n    const collisions = getAllCollisions(sorted, l);\n\n    // There was a collision; abort\n    if (preventCollision && collisions.length) {\n        log(`Collision prevented on ${l.id}, reverting.`);\n        l.x = oldX;\n        l.y = oldY;\n        l.moved = false;\n        return layout;\n    }\n\n    // Move each item that collides away from this element.\n    for (let i = 0, len = collisions.length; i < len; i++) {\n        const collision = collisions[i];\n        log(\n            `Resolving collision between ${l.id} at [${l.x},${l.y}] and ${\n                collision.id\n            } at [${collision.x},${collision.y}]`,\n        );\n\n        // Short circuit so we can't infinite loop\n        if (collision.moved) {\n            continue;\n        }\n\n        // Don't move static items - we have to move *this* element away\n        if (collision.static) {\n            layout = moveElementAwayFromCollision(\n                layout,\n                collision,\n                l,\n                isUserAction,\n                compactType,\n                cols,\n            );\n        } else {\n            layout = moveElementAwayFromCollision(\n                layout,\n                l,\n                collision,\n                isUserAction,\n                compactType,\n                cols,\n            );\n        }\n    }\n\n    return layout;\n}\n\n/**\n * This is where the magic needs to happen - given a collision, move an element away from the collision.\n * We attempt to move it up if there's room, otherwise it goes below.\n *\n * @param  {Array} layout            Full layout to modify.\n * @param  {LayoutItem} collidesWith Layout item we're colliding with.\n * @param  {LayoutItem} itemToMove   Layout item we're moving.\n */\nexport function moveElementAwayFromCollision(\n    layout: Layout,\n    collidesWith: LayoutItem,\n    itemToMove: LayoutItem,\n    isUserAction: boolean | null | undefined,\n    compactType: CompactType,\n    cols: number,\n): Layout {\n    const compactH = compactType === 'horizontal';\n    // Compact vertically if not set to horizontal\n    const compactV = compactType !== 'horizontal';\n    const preventCollision = collidesWith.static; // we're already colliding (not for static items)\n\n    // If there is enough space above the collision to put this element, move it there.\n    // We only do this on the main collision as this can get funky in cascades and cause\n    // unwanted swapping behavior.\n    if (isUserAction) {\n        // Reset isUserAction flag because we're not in the main collision anymore.\n        isUserAction = false;\n\n        // Make a mock item so we don't modify the item here, only modify in moveElement.\n        const fakeItem: LayoutItem = {\n            x: compactH\n                ? Math.max(collidesWith.x - itemToMove.w, 0)\n                : itemToMove.x,\n            y: compactV\n                ? Math.max(collidesWith.y - itemToMove.h, 0)\n                : itemToMove.y,\n            w: itemToMove.w,\n            h: itemToMove.h,\n            id: '-1',\n        };\n\n        // No collision? If so, we can go up there; otherwise, we'll end up moving down as normal\n        if (!getFirstCollision(layout, fakeItem)) {\n            log(\n                `Doing reverse collision on ${itemToMove.id} up to [${\n                    fakeItem.x\n                },${fakeItem.y}].`,\n            );\n            return moveElement(\n                layout,\n                itemToMove,\n                compactH ? fakeItem.x : undefined,\n                compactV ? fakeItem.y : undefined,\n                isUserAction,\n                preventCollision,\n                compactType,\n                cols,\n            );\n        }\n    }\n\n    return moveElement(\n        layout,\n        itemToMove,\n        compactH ? itemToMove.x + 1 : undefined,\n        compactV ? itemToMove.y + 1 : undefined,\n        isUserAction,\n        preventCollision,\n        compactType,\n        cols,\n    );\n}\n\n/**\n * Helper to convert a number to a percentage string.\n *\n * @param  {Number} num Any number\n * @return {String}     That number as a percentage.\n */\nexport function perc(num: number): string {\n    return num * 100 + '%';\n}\n\nexport function setTransform({top, left, width, height}: Position): Object {\n    // Replace unitless items with px\n    const translate = `translate(${left}px,${top}px)`;\n    return {\n        transform: translate,\n        WebkitTransform: translate,\n        MozTransform: translate,\n        msTransform: translate,\n        OTransform: translate,\n        width: `${width}px`,\n        height: `${height}px`,\n        position: 'absolute',\n    };\n}\n\nexport function setTopLeft({top, left, width, height}: Position): Object {\n    return {\n        top: `${top}px`,\n        left: `${left}px`,\n        width: `${width}px`,\n        height: `${height}px`,\n        position: 'absolute',\n    };\n}\n\n/**\n * Get layout items sorted from top left to right and down.\n *\n * @return {Array} Array of layout objects.\n * @return {Array}        Layout, sorted static items first.\n */\nexport function sortLayoutItems(\n    layout: Layout,\n    compactType: CompactType,\n): Layout {\n    if (compactType === 'horizontal') {\n        return sortLayoutItemsByColRow(layout);\n    } else {\n        return sortLayoutItemsByRowCol(layout);\n    }\n}\n\nexport function sortLayoutItemsByRowCol(layout: Layout): Layout {\n    return ([] as any[]).concat(layout).sort(function (a, b) {\n        if (a.y > b.y || (a.y === b.y && a.x > b.x)) {\n            return 1;\n        } else if (a.y === b.y && a.x === b.x) {\n            // Without this, we can get different sort results in IE vs. Chrome/FF\n            return 0;\n        }\n        return -1;\n    });\n}\n\nexport function sortLayoutItemsByColRow(layout: Layout): Layout {\n    return ([] as any[]).concat(layout).sort(function (a, b) {\n        if (a.x > b.x || (a.x === b.x && a.y > b.y)) {\n            return 1;\n        }\n        return -1;\n    });\n}\n\n/**\n * Validate a layout. Throws errors.\n *\n * @param  {Array}  layout        Array of layout items.\n * @param  {String} [contextName] Context name for errors.\n * @throw  {Error}                Validation error.\n */\nexport function validateLayout(\n    layout: Layout,\n    contextName: string = 'Layout',\n): void {\n    const subProps = ['x', 'y', 'w', 'h'];\n    if (!Array.isArray(layout)) {\n        throw new Error(contextName + ' must be an array!');\n    }\n    for (let i = 0, len = layout.length; i < len; i++) {\n        const item = layout[i];\n        for (let j = 0; j < subProps.length; j++) {\n            if (typeof item[subProps[j]] !== 'number') {\n                throw new Error(\n                    'ReactGridLayout: ' +\n                    contextName +\n                    '[' +\n                    i +\n                    '].' +\n                    subProps[j] +\n                    ' must be a number!',\n                );\n            }\n        }\n        if (item.id && typeof item.id !== 'string') {\n            throw new Error(\n                'ReactGridLayout: ' +\n                contextName +\n                '[' +\n                i +\n                '].i must be a string!',\n            );\n        }\n        if (item.static !== undefined && typeof item.static !== 'boolean') {\n            throw new Error(\n                'ReactGridLayout: ' +\n                contextName +\n                '[' +\n                i +\n                '].static must be a boolean!',\n            );\n        }\n    }\n}\n\n// Flow can't really figure this out, so we just use Object\nexport function autoBindHandlers(el: Object, fns: Array<string>): void {\n    fns.forEach(key => (el[key] = el[key].bind(el)));\n}\n\nfunction log(...args) {\n    if (!DEBUG) {\n        return;\n    }\n    // eslint-disable-next-line no-console\n    console.log(...args);\n}\n\nexport const noop = () => {};\n","// tslint:disable\nexport type NumberInput = string | number | null | undefined;\n\n/** Coerces a data-bound value (typically a string) to a number. */\nexport function coerceNumberProperty(value: any): number;\nexport function coerceNumberProperty<D>(value: any, fallback: D): number | D;\nexport function coerceNumberProperty(value: any, fallbackValue = 0) {\n    return _isNumberValue(value) ? Number(value) : fallbackValue;\n}\n\n/**\n * Whether the provided value is considered a number.\n * @docs-private\n */\nexport function _isNumberValue(value: any): boolean {\n    // parseFloat(value) handles most of the cases we're interested in (it treats null, empty string,\n    // and other non-number values as NaN, where Number just uses 0) but it considers the string\n    // '123hello' to be a valid number. Therefore we also check if Number(value) is NaN.\n    return !isNaN(parseFloat(value as any)) && !isNaN(Number(value));\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { KtdPlaygroundModule } from './playground/playground.module';\nimport { KtdCustomHandlesModule } from './custom-handles/custom-handles.module';\nimport { KtdRealLifeExampleModule } from './real-life-example/real-life-example.module';\nimport { KtdScrollTestModule } from './scroll-test/scroll-test.module';\n\nconst routes: Routes = [\n    {\n        path: '',\n        redirectTo: 'playground',\n        pathMatch: 'full'\n    },\n    {\n        path: 'custom-handles',\n        redirectTo: 'custom-handles',\n        pathMatch: 'full'\n    },\n    {\n        path: 'real-life-example',\n        redirectTo: 'real-life-example',\n        pathMatch: 'full'\n    },\n    {\n        path: 'scroll-test',\n        redirectTo: 'scroll-test',\n        pathMatch: 'full'\n    },\n    {\n        path: '**',\n        redirectTo: 'playground'\n    },\n];\n\n@NgModule({\n    imports: [\n        KtdPlaygroundModule,\n        KtdCustomHandlesModule,\n        KtdRealLifeExampleModule,\n        KtdScrollTestModule,\n        RouterModule.forRoot(routes, {\n            enableTracing: false\n        })],\n    exports: [RouterModule]\n})\nexport class KtdAppRoutingModule {}\n\n\n","import { Component, Inject, OnDestroy, OnInit, QueryList, ViewChild, ViewChildren } from '@angular/core';\nimport { KtdGridComponent, KtdGridLayout, ktdTrackById } from 'projects/angular-grid-layout/src/public-api';\nimport { fromEvent, merge, Subscription } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\nimport { countriesPopulation, countriesPopulationByYear } from './data/countries-population.data';\nimport { AreaChartStackedComponent } from '@swimlane/ngx-charts';\nimport { DOCUMENT } from '@angular/common';\n\n@Component({\n    selector: 'ktd-real-life-example',\n    templateUrl: './real-life-example.component.html',\n    styleUrls: ['./real-life-example.component.scss']\n})\nexport class KtdRealLifeExampleComponent implements OnInit, OnDestroy {\n    @ViewChild(KtdGridComponent, {static: true}) grid: KtdGridComponent;\n    @ViewChildren(AreaChartStackedComponent) areaCharts: QueryList<AreaChartStackedComponent>;\n\n    trackById = ktdTrackById;\n    cols = 12;\n    rowHeight = 50;\n    compactType: 'vertical' | 'horizontal' | null = 'vertical';\n    layout = [\n        {id: '0', x: 0, y: 5, w: 4, h: 10},\n        {id: '1', x: 4, y: 5, w: 4, h: 10},\n        {id: '2', x: 2, y: 0, w: 6, h: 5},\n        {id: '5', x: 8, y: 0, w: 4, h: 5},\n        {id: '3', x: 0, y: 0, w: 2, h: 5},\n        {id: '4', x: 8, y: 5, w: 4, h: 10}\n    ];\n\n    layoutSizes: {[id: string]: [number, number]} = {};\n\n\n    countriesPopulation: any[] = countriesPopulation;\n    countriesPopulationByYear: any[] = countriesPopulationByYear;\n\n    // options\n    legend: boolean = true;\n    showLabels: boolean = true;\n    animations: boolean = true;\n    xAxis: boolean = true;\n    yAxis: boolean = true;\n    showYAxisLabel: boolean = true;\n    showXAxisLabel: boolean = true;\n    xAxisLabel: string = 'Countries';\n    yAxisLabel: string = 'Population';\n    timeline: boolean = true;\n\n    colorScheme = {\n        domain: ['#5AA454', '#E44D25', '#CFC0BB', '#7aa3e5', '#a8385d', '#aae3f5']\n    };\n\n    colorScheme2 = {\n        domain: ['#4e79a7', '#f28e2c', '#e15759', '#76b7b2', '#59a14f', '#edc949', '#af7aa1']\n    };\n\n    colorSchemeGradientLinear = {\n        domain: ['#4e79a7', '#f28e2c', '#e15759']\n    };\n\n\n    private resizeSubscription: Subscription;\n\n    constructor(@Inject(DOCUMENT) public document: Document) { }\n\n    ngOnInit() {\n        this.resizeSubscription = merge(\n            fromEvent(window, 'resize'),\n            fromEvent(window, 'orientationchange')\n        ).pipe(\n            debounceTime(50)\n        ).subscribe(() => {\n            this.grid.resize();\n            this.calculateLayoutSizes();\n        });\n    }\n\n    ngOnDestroy() {\n        this.resizeSubscription.unsubscribe();\n    }\n\n    getView(gridItemId: string, grid: KtdGridComponent): [number, number] {\n        const gridItemRenderData = grid.getItemRenderData(gridItemId);\n        return [\n            gridItemRenderData.width,\n            gridItemRenderData.height\n        ];\n    }\n\n    onLayoutUpdated(layout: KtdGridLayout) {\n        this.layout = layout;\n        this.calculateLayoutSizes();\n    }\n\n    labelFormatting(c) {\n        return `${(c.label)} Population`;\n    }\n\n    onSelect(id: string, data): void {\n        console.log('Item clicked', JSON.parse(JSON.stringify(data)));\n    }\n\n    onActivate(id: string, data): void {\n        console.log('Activate', JSON.parse(JSON.stringify(data)));\n    }\n\n    onDeactivate(id: string, data): void {\n        console.log('Deactivate', JSON.parse(JSON.stringify(data)));\n    }\n\n    /**\n     * Calculates and sets the property 'this.layoutSizes' with the [width, height] of every item.\n     * This is needed to set manually the [width, height] for every grid item that is a chart.\n     */\n    private calculateLayoutSizes() {\n        const gridItemsRenderData = this.grid.getItemsRenderData();\n        this.layoutSizes =\n            Object.keys(gridItemsRenderData)\n                .reduce((acc, cur) => ({\n                    ...acc,\n                    [cur]: [gridItemsRenderData[cur].width, gridItemsRenderData[cur].height]\n                }), {});\n    }\n\n}\n","<h1>Angular Grid Layout - Real life example</h1>\n<div class=\"grid-container\">\n    <ktd-grid [cols]=\"cols\"\n              [rowHeight]=\"rowHeight\"\n              [layout]=\"layout\"\n              [scrollableParent]=\"document\"\n              [compactType]=\"compactType\"\n              (layoutUpdated)=\"onLayoutUpdated($event)\">\n        <ktd-grid-item id=\"0\" >\n            <ngx-charts-bar-vertical-stacked\n                [view]=\"layoutSizes['0']\"\n                [scheme]=\"colorScheme2\"\n                [results]=\"countriesPopulationByYear\"\n                [gradient]=\"false\"\n                [xAxis]=\"xAxis\"\n                [yAxis]=\"yAxis\"\n                [legend]=\"true\"\n                [showXAxisLabel]=\"showXAxisLabel\"\n                [showYAxisLabel]=\"showYAxisLabel\"\n                [xAxisLabel]=\"xAxisLabel\"\n                [yAxisLabel]=\"yAxisLabel\"\n                [animations]=\"animations\"\n                (select)=\"onSelect('0', $event)\">\n            </ngx-charts-bar-vertical-stacked>\n        </ktd-grid-item>\n        <ktd-grid-item id=\"1\">\n            <ngx-charts-bar-horizontal-2d\n                [view]=\"layoutSizes['1']\"\n                [scheme]=\"colorSchemeGradientLinear\"\n                [schemeType]=\"'linear'\"\n                [results]=\"countriesPopulationByYear\"\n                [gradient]=\"false\"\n                [xAxis]=\"xAxis\"\n                [yAxis]=\"yAxis\"\n                [legend]=\"false\"\n                [legendPosition]=\"'below'\"\n                [showXAxisLabel]=\"showXAxisLabel\"\n                [showYAxisLabel]=\"showYAxisLabel\"\n                [xAxisLabel]=\"yAxisLabel\"\n                [yAxisLabel]=\"xAxisLabel\"\n                (select)=\"onSelect('1', $event)\"\n                (activate)=\"onActivate('1', $event)\"\n                (deactivate)=\"onDeactivate('1', $event)\">\n            </ngx-charts-bar-horizontal-2d>\n        </ktd-grid-item>\n        <ktd-grid-item id=\"2\">\n            <ngx-charts-tree-map\n                [view]=\"layoutSizes['2']\"\n                [scheme]=\"colorScheme\"\n                [results]=\"countriesPopulation\"\n                [gradient]=\"false\"\n                [animations]=\"true\"\n                [labelFormatting]=\"labelFormatting\"\n                (select)=\"onSelect('2', $event)\">\n            </ngx-charts-tree-map>\n        </ktd-grid-item>\n        <ktd-grid-item id=\"3\">\n            <div class=\"ktd-grid-img-container\">\n                <img src=\"assets/icons/katoid-icon-192x192.png\">\n            </div>\n        </ktd-grid-item>\n        <ktd-grid-item class=\"ktd-grid-item-table\" id=\"4\">\n            <ktd-table-sorting></ktd-table-sorting>\n        </ktd-grid-item>\n        <ktd-grid-item id=\"5\">\n            <ngx-charts-pie-chart\n                [view]=\"layoutSizes['5']\"\n                [scheme]=\"colorScheme\"\n                [results]=\"countriesPopulation\"\n                [gradient]=\"false\"\n                [legend]=\"false\"\n                [labels]=\"showLabels\"\n                [doughnut]=\"false\"\n                (select)=\"onSelect('5', $event)\"\n                (activate)=\"onActivate('5', $event)\"\n                (deactivate)=\"onDeactivate('5', $event)\">\n            </ngx-charts-pie-chart>\n        </ktd-grid-item>\n    </ktd-grid>\n</div>\n<h2 style=\"margin-top: 16px\">Other examples: </h2>\n<div style=\"display: flex; flex-direction: column\">\n    <a [routerLink]=\"['/playground']\">Playground</a>\n    <a [routerLink]=\"['/custom-handles']\">Custom handles</a>\n    <a [routerLink]=\"['/scroll-test']\">Scroll test</a>\n</div>\n\n\n","\n// tslint:disable\n\n/**\n * Client rect utilities.\n * This file is taken from Angular Material repository. This is the reason why the tslint is disabled on this case.\n * Don't enable it until some custom change is done on this file.\n */\n\n\n/** Gets a mutable version of an element's bounding `ClientRect`. */\nexport function getMutableClientRect(element: Element): ClientRect {\n  const clientRect = element.getBoundingClientRect();\n\n  // We need to clone the `clientRect` here, because all the values on it are readonly\n  // and we need to be able to update them. Also we can't use a spread here, because\n  // the values on a `ClientRect` aren't own properties. See:\n  // https://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRect#Notes\n  return {\n    top: clientRect.top,\n    right: clientRect.right,\n    bottom: clientRect.bottom,\n    left: clientRect.left,\n    width: clientRect.width,\n    height: clientRect.height\n  };\n}\n\n/**\n * Checks whether some coordinates are within a `ClientRect`.\n * @param clientRect ClientRect that is being checked.\n * @param x Coordinates along the X axis.\n * @param y Coordinates along the Y axis.\n */\nexport function isInsideClientRect(clientRect: ClientRect, x: number, y: number) {\n  const {top, bottom, left, right} = clientRect;\n  return y >= top && y <= bottom && x >= left && x <= right;\n}\n\n/**\n * Updates the top/left positions of a `ClientRect`, as well as their bottom/right counterparts.\n * @param clientRect `ClientRect` that should be updated.\n * @param top Amount to add to the `top` position.\n * @param left Amount to add to the `left` position.\n */\nexport function adjustClientRect(clientRect: ClientRect, top: number, left: number) {\n  clientRect.top += top;\n  clientRect.bottom = clientRect.top + clientRect.height;\n\n  clientRect.left += left;\n  clientRect.right = clientRect.left + clientRect.width;\n}\n\n/**\n * Checks whether the pointer coordinates are close to a ClientRect.\n * @param rect ClientRect to check against.\n * @param threshold Threshold around the ClientRect.\n * @param pointerX Coordinates along the X axis.\n * @param pointerY Coordinates along the Y axis.\n */\nexport function isPointerNearClientRect(rect: ClientRect,\n                                        threshold: number,\n                                        pointerX: number,\n                                        pointerY: number): boolean {\n  const {top, right, bottom, left, width, height} = rect;\n  const xThreshold = width * threshold;\n  const yThreshold = height * threshold;\n\n  return pointerY > top - yThreshold && pointerY < bottom + yThreshold &&\n         pointerX > left - xThreshold && pointerX < right + xThreshold;\n}\n","// tslint:disable\n/**\n * Type describing the allowed values for a boolean input.\n * @docs-private\n */\nexport type BooleanInput = string | boolean | null | undefined;\n\n/** Coerces a data-bound value (typically a string) to a boolean. */\nexport function coerceBooleanProperty(value: any): boolean {\n  return value != null && `${value}` !== 'false';\n}\n","import {\n    AfterContentChecked, AfterContentInit, ChangeDetectionStrategy, Component, ContentChildren, ElementRef, EventEmitter, Input, NgZone, OnChanges,\n    OnDestroy, Output, QueryList, Renderer2, SimpleChanges, ViewEncapsulation\n} from '@angular/core';\nimport { coerceNumberProperty, NumberInput } from './coercion/number-property';\nimport { KtdGridItemComponent } from './grid-item/grid-item.component';\nimport { combineLatest, merge, NEVER, Observable, Observer, of, Subscription } from 'rxjs';\nimport { exhaustMap, map, startWith, switchMap, takeUntil } from 'rxjs/operators';\nimport { ktdGridItemDragging, ktdGridItemResizing } from './utils/grid.utils';\nimport { compact, CompactType } from './utils/react-grid-layout.utils';\nimport {\n    GRID_ITEM_GET_RENDER_DATA_TOKEN, KtdDraggingData, KtdGridCfg, KtdGridCompactType, KtdGridItemRect, KtdGridItemRenderData, KtdGridLayout,\n    KtdGridLayoutItem\n} from './grid.definitions';\nimport { ktdMouseOrTouchEnd, ktdPointerClientX, ktdPointerClientY } from './utils/pointer.utils';\nimport { KtdDictionary } from '../types';\nimport { KtdGridService } from './grid.service';\nimport { getMutableClientRect } from './utils/client-rect';\nimport { ktdGetScrollTotalRelativeDifference$, ktdScrollIfNearElementClientRect$ } from './utils/scroll';\nimport { BooleanInput, coerceBooleanProperty } from './coercion/boolean-property';\n\ninterface KtdDragResizeEvent {\n    layout: KtdGridLayout;\n    layoutItem: KtdGridLayoutItem;\n    gridItemRef: KtdGridItemComponent;\n}\n\nexport type KtdDragStart = KtdDragResizeEvent;\nexport type KtdResizeStart = KtdDragResizeEvent;\nexport type KtdDragEnd = KtdDragResizeEvent;\nexport type KtdResizeEnd = KtdDragResizeEvent;\n\nfunction getDragResizeEventData(gridItem: KtdGridItemComponent, layout: KtdGridLayout): KtdDragResizeEvent {\n    return {\n        layout,\n        layoutItem: layout.find((item) => item.id === gridItem.id)!,\n        gridItemRef: gridItem\n    };\n}\n\n\nfunction layoutToRenderItems(config: KtdGridCfg, width: number, height: number): KtdDictionary<KtdGridItemRenderData<number>> {\n    const {cols, rowHeight, layout} = config;\n\n    const renderItems: KtdDictionary<KtdGridItemRenderData<number>> = {};\n    for (const item of layout) {\n        renderItems[item.id] = {\n            id: item.id,\n            top: item.y === 0 ? 0 : item.y * rowHeight,\n            left: item.x * (width / cols),\n            width: item.w * (width / cols),\n            height: item.h * rowHeight\n        };\n    }\n    return renderItems;\n}\n\nfunction getGridHeight(layout: KtdGridLayout, rowHeight: number): number {\n    return layout.reduce((acc, cur) => Math.max(acc, (cur.y + cur.h) * rowHeight), 0);\n}\n\n// tslint:disable-next-line\nexport function parseRenderItemToPixels(renderItem: KtdGridItemRenderData<number>): KtdGridItemRenderData<string> {\n    return {\n        id: renderItem.id,\n        top: `${renderItem.top}px`,\n        left: `${renderItem.left}px`,\n        width: `${renderItem.width}px`,\n        height: `${renderItem.height}px`\n    };\n}\n\n// tslint:disable-next-line:ktd-prefix-code\nexport function __gridItemGetRenderDataFactoryFunc(gridCmp: KtdGridComponent) {\n    // tslint:disable-next-line:only-arrow-functions\n    return function(id: string) {\n        return parseRenderItemToPixels(gridCmp.getItemRenderData(id));\n    };\n}\n\nexport function ktdGridItemGetRenderDataFactoryFunc(gridCmp: KtdGridComponent) {\n    // Workaround explained: https://github.com/ng-packagr/ng-packagr/issues/696#issuecomment-387114613\n    const resultFunc = __gridItemGetRenderDataFactoryFunc(gridCmp);\n    return resultFunc;\n}\n\n\n@Component({\n    selector: 'ktd-grid',\n    templateUrl: './grid.component.html',\n    styleUrls: ['./grid.component.scss'],\n    encapsulation: ViewEncapsulation.None,\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    providers: [\n        {\n            provide: GRID_ITEM_GET_RENDER_DATA_TOKEN,\n            useFactory: ktdGridItemGetRenderDataFactoryFunc,\n            deps: [KtdGridComponent]\n        }\n    ]\n})\nexport class KtdGridComponent implements OnChanges, AfterContentInit, AfterContentChecked, OnDestroy {\n    /** Query list of grid items that are being rendered. */\n    @ContentChildren(KtdGridItemComponent, {descendants: true}) _gridItems: QueryList<KtdGridItemComponent>;\n\n    /** Emits when layout change */\n    @Output() layoutUpdated: EventEmitter<KtdGridLayout> = new EventEmitter<KtdGridLayout>();\n\n    /** Emits when drag starts */\n    @Output() dragStarted: EventEmitter<KtdDragStart> = new EventEmitter<KtdDragStart>();\n\n    /** Emits when resize starts */\n    @Output() resizeStarted: EventEmitter<KtdResizeStart> = new EventEmitter<KtdResizeStart>();\n\n    /** Emits when drag ends */\n    @Output() dragEnded: EventEmitter<KtdDragEnd> = new EventEmitter<KtdDragEnd>();\n\n    /** Emits when resize ends */\n    @Output() resizeEnded: EventEmitter<KtdResizeEnd> = new EventEmitter<KtdResizeEnd>();\n\n    /**\n     * Parent element that contains the scroll. If an string is provided it would search that element by id on the dom.\n     * If no data provided or null autoscroll is not performed.\n     */\n    @Input() scrollableParent: HTMLElement | Document | string | null = null;\n\n    /** Whether or not to update the internal layout when some dependent property change. */\n    @Input()\n    get compactOnPropsChange(): boolean { return this._compactOnPropsChange; }\n\n    set compactOnPropsChange(value: boolean) {\n        this._compactOnPropsChange = coerceBooleanProperty(value);\n    }\n\n    private _compactOnPropsChange: boolean = true;\n\n    /** If true, grid items won't change position when being dragged over. Handy when using no compaction */\n    @Input()\n    get preventCollision(): boolean { return this._preventCollision; }\n\n    set preventCollision(value: boolean) {\n        this._preventCollision = coerceBooleanProperty(value);\n    }\n\n    private _preventCollision: boolean = false;\n\n    /** Number of CSS pixels that would be scrolled on each 'tick' when auto scroll is performed. */\n    @Input()\n    get scrollSpeed(): number { return this._scrollSpeed; }\n\n    set scrollSpeed(value: number) {\n        this._scrollSpeed = coerceNumberProperty(value, 2);\n    }\n\n    private _scrollSpeed: number = 2;\n\n    /** Type of compaction that will be applied to the layout (vertical, horizontal or free). Defaults to 'vertical' */\n    @Input()\n    get compactType(): KtdGridCompactType {\n        return this._compactType;\n    }\n\n    set compactType(val: KtdGridCompactType) {\n        this._compactType = val;\n    }\n\n    private _compactType: KtdGridCompactType = 'vertical';\n\n    /** Row height in css pixels */\n    @Input()\n    get rowHeight(): number { return this._rowHeight; }\n\n    set rowHeight(val: number) {\n        this._rowHeight = Math.max(1, Math.round(coerceNumberProperty(val)));\n    }\n\n    private _rowHeight: number = 100;\n\n    /** Number of columns  */\n    @Input()\n    get cols(): number { return this._cols; }\n\n    set cols(val: number) {\n        this._cols = Math.max(1, Math.round(coerceNumberProperty(val)));\n    }\n\n    private _cols: number = 6;\n\n    /** Layout of the grid. Array of all the grid items with its 'id' and position on the grid. */\n    @Input()\n    get layout(): KtdGridLayout { return this._layout; }\n\n    set layout(layout: KtdGridLayout) {\n        /**\n         * Enhancement:\n         * Only set layout if it's reference has changed and use a boolean to track whenever recalculate the layout on ngOnChanges.\n         *\n         * Why:\n         * The normal use of this lib is having the variable layout in the outer component or in a store, assigning it whenever it changes and\n         * binded in the component with it's input [layout]. In this scenario, we would always calculate one unnecessary change on the layout when\n         * it is re-binded on the input.\n         */\n        this._layout = layout;\n    }\n\n    private _layout: KtdGridLayout;\n\n    get config(): KtdGridCfg {\n        return {\n            cols: this.cols,\n            rowHeight: this.rowHeight,\n            layout: this.layout,\n            preventCollision: this.preventCollision,\n        };\n    }\n\n    /** Total height of the grid */\n    private _height: number;\n    private _gridItemsRenderData: KtdDictionary<KtdGridItemRenderData<number>>;\n    private subscriptions: Subscription[];\n\n    constructor(private gridService: KtdGridService,\n                private elementRef: ElementRef,\n                private renderer: Renderer2,\n                private ngZone: NgZone) {\n\n    }\n\n    ngOnChanges(changes: SimpleChanges) {\n        let needsCompactLayout = false;\n        let needsRecalculateRenderData = false;\n\n        // TODO: Does fist change need to be compacted by default?\n        // Compact layout whenever some dependent prop changes.\n        if (changes.compactType || changes.cols || changes.layout) {\n            needsCompactLayout = true;\n        }\n\n        // Check if wee need to recalculate rendering data.\n        if (needsCompactLayout || changes.rowHeight) {\n            needsRecalculateRenderData = true;\n        }\n\n        // Only compact layout if lib user has provided it. Lib users that want to save/store always the same layout  as it is represented (compacted)\n        // can use KtdCompactGrid utility and pre-compact the layout. This is the recommended behaviour for always having a the same layout on this component\n        // and the ones that uses it.\n        if (needsCompactLayout && this.compactOnPropsChange) {\n            this.compactLayout();\n        }\n\n        if (needsRecalculateRenderData) {\n            this.calculateRenderData();\n        }\n    }\n\n    ngAfterContentInit() {\n        this.initSubscriptions();\n    }\n\n    ngAfterContentChecked() {\n        this.render();\n    }\n\n    resize() {\n        this.calculateRenderData();\n        this.render();\n    }\n\n    ngOnDestroy() {\n        this.subscriptions.forEach(sub => sub.unsubscribe());\n    }\n\n    compactLayout() {\n        this.layout = compact(this.layout, this.compactType, this.cols);\n    }\n\n    getItemsRenderData(): KtdDictionary<KtdGridItemRenderData<number>> {\n        return {...this._gridItemsRenderData};\n    }\n\n    getItemRenderData(itemId: string): KtdGridItemRenderData<number> {\n        return this._gridItemsRenderData[itemId];\n    }\n\n    calculateRenderData() {\n        const clientRect = (this.elementRef.nativeElement as HTMLElement).getBoundingClientRect();\n        this._gridItemsRenderData = layoutToRenderItems(this.config, clientRect.width, clientRect.height);\n        this._height = getGridHeight(this.layout, this.rowHeight);\n    }\n\n    render() {\n        this.renderer.setStyle(this.elementRef.nativeElement, 'height', `${this._height}px`);\n        this.updateGridItemsStyles();\n    }\n\n    private updateGridItemsStyles() {\n        this._gridItems.forEach(item => {\n            const gridItemRenderData: KtdGridItemRenderData<number> | undefined = this._gridItemsRenderData[item.id];\n            if (gridItemRenderData == null) {\n                console.error(`Couldn\\'t find the specified grid item for the id: ${item.id}`);\n            } else {\n                item.setStyles(parseRenderItemToPixels(gridItemRenderData));\n            }\n        });\n    }\n\n    private initSubscriptions() {\n        this.subscriptions = [\n            this._gridItems.changes.pipe(\n                startWith(this._gridItems),\n                switchMap((gridItems: QueryList<KtdGridItemComponent>) => {\n                    return merge(\n                        ...gridItems.map((gridItem) => gridItem.dragStart$.pipe(map((event) => ({event, gridItem, type: 'drag'})))),\n                        ...gridItems.map((gridItem) => gridItem.resizeStart$.pipe(map((event) => ({event, gridItem, type: 'resize'})))),\n                    ).pipe(exhaustMap(({event, gridItem, type}) => {\n                        // Emit drag or resize start events. Ensure that is start event is inside the zone.\n                        this.ngZone.run(() => (type === 'drag' ? this.dragStarted : this.resizeStarted).emit(getDragResizeEventData(gridItem, this.layout)));\n                        // Get the correct newStateFunc depending on if we are dragging or resizing\n                        const calcNewStateFunc = type === 'drag' ? ktdGridItemDragging : ktdGridItemResizing;\n\n                        // Perform drag sequence\n                        return this.performDragSequence$(gridItem, event, (gridItemId, config, compactionType, draggingData) =>\n                            calcNewStateFunc(gridItemId, config, compactionType, draggingData)\n                        ).pipe(map((layout) => ({layout, gridItem, type})));\n\n                    }));\n                })\n            ).subscribe(({layout, gridItem, type}) => {\n                this.layout = layout;\n                // Calculate new rendering data given the new layout.\n                this.calculateRenderData();\n                // Emit drag or resize end events.\n                (type === 'drag' ? this.dragEnded : this.resizeEnded).emit(getDragResizeEventData(gridItem, layout));\n                // Notify that the layout has been updated.\n                this.layoutUpdated.emit(layout);\n            })\n\n        ];\n    }\n\n    /**\n     * Perform a general grid drag action, from start to end. A general grid drag action basically includes creating the placeholder element and adding\n     * some class animations. calcNewStateFunc needs to be provided in order to calculate the new state of the layout.\n     * @param gridItem that is been dragged\n     * @param pointerDownEvent event (mousedown or touchdown) where the user initiated the drag\n     * @param calcNewStateFunc function that return the new layout state and the drag element position\n     */\n    private performDragSequence$(gridItem: KtdGridItemComponent, pointerDownEvent: MouseEvent | TouchEvent,\n                                 calcNewStateFunc: (gridItemId: string, config: KtdGridCfg, compactionType: CompactType, draggingData: KtdDraggingData) => { layout: KtdGridLayoutItem[]; draggedItemPos: KtdGridItemRect }): Observable<KtdGridLayout> {\n\n        return new Observable<KtdGridLayout>((observer: Observer<KtdGridLayout>) => {\n            // Retrieve grid (parent) and gridItem (draggedElem) client rects.\n            const gridElemClientRect: ClientRect = getMutableClientRect(this.elementRef.nativeElement as HTMLElement);\n            const dragElemClientRect: ClientRect = getMutableClientRect(gridItem.elementRef.nativeElement as HTMLElement);\n\n            const scrollableParent = typeof this.scrollableParent === 'string' ? document.getElementById(this.scrollableParent) : this.scrollableParent;\n\n            this.renderer.addClass(gridItem.elementRef.nativeElement, 'no-transitions');\n            this.renderer.addClass(gridItem.elementRef.nativeElement, 'ktd-grid-item-dragging');\n\n            // Create placeholder element. This element would represent the position where the dragged/resized element would be if the action ends\n            const placeholderElement: HTMLDivElement = this.renderer.createElement('div');\n            placeholderElement.style.width = `${dragElemClientRect.width}px`;\n            placeholderElement.style.height = `${dragElemClientRect.height}px`;\n            placeholderElement.style.transform = `translateX(${dragElemClientRect.left - gridElemClientRect.left}px) translateY(${dragElemClientRect.top - gridElemClientRect.top}px)`;\n\n            this.renderer.addClass(placeholderElement, 'ktd-grid-item-placeholder');\n            this.renderer.appendChild(this.elementRef.nativeElement, placeholderElement);\n\n            let newLayout: KtdGridLayoutItem[];\n\n            // TODO (enhancement): consider move this 'side effect' observable inside the main drag loop.\n            //  - Pros are that we would not repeat subscriptions and takeUntil would shut down observables at the same time.\n            //  - Cons are that moving this functionality as a side effect inside the main drag loop would be confusing.\n            const scrollSubscription = this.ngZone.runOutsideAngular(() =>\n                (!scrollableParent ? NEVER : this.gridService.mouseOrTouchMove$(document).pipe(\n                    map((event) => ({\n                        pointerX: ktdPointerClientX(event),\n                        pointerY: ktdPointerClientY(event)\n                    })),\n                    ktdScrollIfNearElementClientRect$(scrollableParent, {scrollStep: this.scrollSpeed})\n                )).pipe(\n                    takeUntil(ktdMouseOrTouchEnd(document))\n                ).subscribe());\n\n            /**\n             * Main subscription, it listens for 'pointer move' and 'scroll' events and recalculates the layout on each emission\n             */\n            const subscription = this.ngZone.runOutsideAngular(() =>\n                merge(\n                    combineLatest([\n                        this.gridService.mouseOrTouchMove$(document),\n                        ...(!scrollableParent ? [of({top: 0, left: 0})] : [\n                            ktdGetScrollTotalRelativeDifference$(scrollableParent).pipe(\n                                startWith({top: 0, left: 0}) // Force first emission to allow CombineLatest to emit even no scroll event has occurred\n                            )\n                        ])\n                    ])\n                ).pipe(\n                    takeUntil(ktdMouseOrTouchEnd(document)),\n                ).subscribe(([pointerDragEvent, scrollDifference]: [MouseEvent | TouchEvent, { top: number, left: number }]) => {\n                        pointerDragEvent.preventDefault();\n\n                        /**\n                         * Set the new layout to be the layout in which the calcNewStateFunc would be executed.\n                         * NOTE: using the mutated layout is the way to go by 'react-grid-layout' utils. If we don't use the previous layout,\n                         * some utilities from 'react-grid-layout' would not work as expected.\n                         */\n                        const currentLayout: KtdGridLayout = newLayout || this.layout;\n\n                        const {layout, draggedItemPos} = calcNewStateFunc(gridItem.id, {\n                            layout: currentLayout,\n                            rowHeight: this.rowHeight,\n                            cols: this.cols,\n                            preventCollision: this.preventCollision\n                        }, this.compactType, {\n                            pointerDownEvent,\n                            pointerDragEvent,\n                            gridElemClientRect,\n                            dragElemClientRect,\n                            scrollDifference\n                        });\n                        newLayout = layout;\n\n                        this._height = getGridHeight(newLayout, this.rowHeight);\n\n                        this._gridItemsRenderData = layoutToRenderItems({\n                            cols: this.cols,\n                            rowHeight: this.rowHeight,\n                            layout: newLayout,\n                            preventCollision: this.preventCollision,\n                        }, gridElemClientRect.width, gridElemClientRect.height);\n\n                        const placeholderStyles = parseRenderItemToPixels(this._gridItemsRenderData[gridItem.id]);\n\n                        // Put the real final position to the placeholder element\n                        placeholderElement.style.width = placeholderStyles.width;\n                        placeholderElement.style.height = placeholderStyles.height;\n                        placeholderElement.style.transform = `translateX(${placeholderStyles.left}) translateY(${placeholderStyles.top})`;\n\n                        // modify the position of the dragged item to be the once we want (for example the mouse position or whatever)\n                        this._gridItemsRenderData[gridItem.id] = {\n                            ...draggedItemPos,\n                            id: this._gridItemsRenderData[gridItem.id].id\n                        };\n\n                        this.render();\n                    },\n                    (error) => observer.error(error),\n                    () => {\n                        this.ngZone.run(() => {\n                            // Remove drag classes\n                            this.renderer.removeClass(gridItem.elementRef.nativeElement, 'no-transitions');\n                            this.renderer.removeClass(gridItem.elementRef.nativeElement, 'ktd-grid-item-dragging');\n\n                            // Remove placeholder element from the dom\n                            // NOTE: If we don't put the removeChild inside the zone it would not work... This may be a bug from angular or maybe is the intended behaviour, although strange.\n                            // It should work since AFAIK this action should not be done in a CD cycle.\n                            this.renderer.removeChild(this.elementRef.nativeElement, placeholderElement);\n\n                            if (newLayout) {\n                                // Prune react-grid-layout compact extra properties.\n                                observer.next(newLayout.map(item => ({\n                                    id: item.id,\n                                    x: item.x,\n                                    y: item.y,\n                                    w: item.w,\n                                    h: item.h\n                                })) as KtdGridLayout);\n                            } else {\n                                // TODO: Need we really to emit if there is no layout change but drag started and ended?\n                                observer.next(this.layout);\n                            }\n\n                            observer.complete();\n                        });\n\n                    }));\n\n\n            return () => {\n                scrollSubscription.unsubscribe();\n                subscription.unsubscribe();\n            };\n        });\n    }\n\n\n    // tslint:disable-next-line\n    static ngAcceptInputType_cols: NumberInput;\n    // tslint:disable-next-line\n    static ngAcceptInputType_rowHeight: NumberInput;\n    // tslint:disable-next-line\n    static ngAcceptInputType_scrollSpeed: NumberInput;\n    // tslint:disable-next-line\n    static ngAcceptInputType_compactOnPropsChange: BooleanInput;\n    // tslint:disable-next-line\n    static ngAcceptInputType_preventCollision: BooleanInput;\n}\n\n","<ng-content></ng-content>\n","import { Component, Inject, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { fromEvent, merge, Subscription } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\nimport { KtdGridComponent, KtdGridLayout, ktdTrackById } from 'projects/angular-grid-layout/src/public-api';\nimport { DOCUMENT } from '@angular/common';\n\n@Component({\n    selector: 'ktd-custom-handles',\n    templateUrl: './custom-handles.component.html',\n    styleUrls: ['./custom-handles.component.scss']\n})\nexport class KtdCustomHandlesComponent implements OnInit, OnDestroy {\n    @ViewChild(KtdGridComponent, {static: true}) grid: KtdGridComponent;\n    trackById = ktdTrackById;\n    layout: KtdGridLayout = [\n        {id: '0', x: 0, y: 0, w: 3, h: 3},\n        {id: '1', x: 3, y: 0, w: 3, h: 4},\n        {id: '2', x: 6, y: 0, w: 3, h: 5},\n        {id: '3', x: 9, y: 0, w: 3, h: 6}\n    ];\n\n    private resizeSubscription: Subscription;\n\n    constructor(@Inject(DOCUMENT) public document: Document) { }\n\n    ngOnInit() {\n        this.resizeSubscription = merge(\n            fromEvent(window, 'resize'),\n            fromEvent(window, 'orientationchange')\n        ).pipe(\n            debounceTime(50)\n        ).subscribe(() => {\n            this.grid.resize();\n        });\n    }\n\n    ngOnDestroy() {\n        this.resizeSubscription.unsubscribe();\n    }\n\n    onLayoutUpdated(layout: KtdGridLayout) {\n        this.layout = layout;\n    }\n\n}\n","<h1>Angular Grid Layout - Custom handles</h1>\n<div class=\"grid-container\">\n    <ktd-grid cols=\"12\"\n              rowHeight=\"50\"\n              compactType=\"vertical\"\n              compactOnPropsChange=\"true\"\n              preventCollision=\"false\"\n              [layout]=\"layout\"\n              [scrollableParent]=\"document\"\n              (layoutUpdated)=\"onLayoutUpdated($event)\">\n        <ktd-grid-item *ngFor=\"let item of layout; trackBy:trackById\"\n                       draggable=\"true\"\n                       resizable=\"true\"\n                       dragStartThreshold=\"0\"\n                       [id]=\"item.id\">\n            <div ktdGridDragHandle class=\"handle-1\">Handle 1</div>\n            <div class=\"grid-item-content\">\n                <div ktdGridDragHandle class=\"handle-2\">Handle 2</div>\n            </div>\n            <mat-icon ktdGridResizeHandle class=\"resize-handle-1\">open_in_full</mat-icon>\n        </ktd-grid-item>\n    </ktd-grid>\n</div>\n<h2 style=\"margin-top: 16px\">Other examples: </h2>\n<div style=\"display: flex; flex-direction: column\">\n    <a [routerLink]=\"['/playground']\">Playground</a>\n    <a [routerLink]=\"['/real-life-example']\">Real life example</a>\n    <a [routerLink]=\"['/scroll-test']\">Scroll test</a>\n</div>\n","import { Component, Inject, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { KtdGridComponent, KtdGridLayout, ktdTrackById } from 'projects/angular-grid-layout/src/public-api';\nimport { fromEvent, merge, Subscription } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\nimport { DOCUMENT } from '@angular/common';\nimport { coerceNumberProperty } from '@angular/cdk/coercion';\n\nfunction generateLayout2(cols: number, size: number) {\n    const rows = cols;\n    const layout: any[] = [];\n    let counter = 0;\n    for (let i = 0; i < rows; i += size) {\n        for (let j = i; j < cols; j += size) {\n            layout.push({\n                id: `${counter}`,\n                x: j,\n                y: i,\n                w: size,\n                h: size\n            });\n            counter++;\n        }\n    }\n\n    return layout;\n}\n\n@Component({\n    selector: 'ktd-scroll-test',\n    templateUrl: './scroll-test.component.html',\n    styleUrls: ['./scroll-test.component.scss']\n})\nexport class KtdScrollTestComponent implements OnInit, OnDestroy {\n    @ViewChild('grid1', {static: true, read: KtdGridComponent}) grid1: KtdGridComponent;\n    @ViewChild('grid2', {static: true, read: KtdGridComponent}) grid2: KtdGridComponent;\n\n    trackById = ktdTrackById;\n    cols = 12;\n    rowHeight = 50;\n    compactType: 'vertical' | 'horizontal' | null = 'vertical';\n    scrollSpeed = 2;\n    layout1: KtdGridLayout = [\n        {id: '0', x: 0, y: 0, w: 3, h: 3},\n        {id: '1', x: 3, y: 0, w: 3, h: 3},\n        {id: '2', x: 6, y: 0, w: 3, h: 3},\n        {id: '3', x: 9, y: 0, w: 3, h: 3},\n        {id: '4', x: 3, y: 3, w: 3, h: 3},\n        {id: '5', x: 6, y: 3, w: 3, h: 3},\n        {id: '6', x: 9, y: 3, w: 3, h: 3},\n        {id: '7', x: 3, y: 6, w: 3, h: 3},\n\n\n        {id: '8', x: 3, y: 9, w: 3, h: 3},\n        {id: '9', x: 3, y: 12, w: 3, h: 3},\n        {id: '10', x: 3, y: 15, w: 3, h: 3},\n        {id: '11', x: 3, y: 18, w: 3, h: 3}\n    ];\n\n    cols2 = 36;\n    layout2: KtdGridLayout = generateLayout2(this.cols2, 3);\n\n    private resizeSubscription: Subscription;\n\n    constructor(@Inject(DOCUMENT) public document) { }\n\n    ngOnInit() {\n        this.resizeSubscription = merge(\n            fromEvent(window, 'resize'),\n            fromEvent(window, 'orientationchange')\n        ).pipe(\n            debounceTime(50)\n        ).subscribe(() => {\n            this.grid1.resize();\n            this.grid2.resize();\n        });\n    }\n\n    ngOnDestroy() {\n        this.resizeSubscription.unsubscribe();\n    }\n\n    onScrollSpeedChange(event: Event) {\n        this.scrollSpeed = coerceNumberProperty((event.target as HTMLInputElement).value);\n    }\n}\n","<h1>Angular Grid Layout - Scroll test</h1>\n<mat-form-field color=\"accent\">\n    <mat-label>Scroll Speed</mat-label>\n    <input matInput type=\"number\" [value]=\"scrollSpeed + ''\" (input)=\"onScrollSpeedChange($event)\">\n</mat-form-field>\n<div class=\"grids-container\">\n    <div>\n        <h2>Scroll Vertical</h2>\n        <div class=\"grid-container-1\" #gridContainer1>\n            <ktd-grid #grid1\n                      [cols]=\"cols\"\n                      [rowHeight]=\"50\"\n                      [layout]=\"layout1\"\n                      [scrollableParent]=\"gridContainer1\"\n                      [scrollSpeed]=\"scrollSpeed\"\n                      [compactType]=\"compactType\">\n                <ktd-grid-item *ngFor=\"let item of layout1; trackBy:trackById\"\n                               [id]=\"item.id\">\n                    <div class=\"grid-item-content\">{{item.id}}</div>\n                </ktd-grid-item>\n            </ktd-grid>\n        </div>\n    </div>\n    <div style=\"margin-left: 32px;\">\n        <h2>Scroll Vertical and horizontal</h2>\n        <div class=\"grid-container-2\" #gridContainer2>\n            <ktd-grid #grid2\n                      [cols]=\"cols2\"\n                      [rowHeight]=\"50\"\n                      [layout]=\"layout2\"\n                      [scrollableParent]=\"gridContainer2\"\n                      [scrollSpeed]=\"scrollSpeed\"\n                      [compactType]=\"compactType\">\n                <ktd-grid-item *ngFor=\"let item of layout2; trackBy:trackById\"\n                               [id]=\"item.id\">\n                    <div class=\"grid-item-content\">{{item.id}}</div>\n                </ktd-grid-item>\n            </ktd-grid>\n        </div>\n    </div>\n</div>\n\n<h2 style=\"margin-top: 16px\">Other examples: </h2>\n<div style=\"display: flex; flex-direction: column\">\n    <a [routerLink]=\"['/playground']\">Playground</a>\n    <a [routerLink]=\"['/custom-handles']\">Custom handles</a>\n    <a [routerLink]=\"['/real-life-example']\">Real life example</a>\n</div>\n\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"Q0DP\";","/*\n * Public API Surface of grid\n */\nexport { ktdGridCompact, ktdTrackById } from './lib/utils/grid.utils';\nexport * from './lib/directives/drag-handle';\nexport * from './lib/directives/resize-handle';\nexport * from './lib/grid-item/grid-item.component';\nexport * from './lib/grid.definitions';\nexport * from './lib/grid.component';\nexport * from './lib/grid.module';\n\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { KtdCustomHandlesComponent } from './custom-handles.component';\nimport { KtdGridModule } from 'projects/angular-grid-layout/src/public-api';\nimport { RouterModule, Routes } from '@angular/router';\nimport { MatIconModule } from '@angular/material/icon';\n\nconst routes: Routes = [\n    {path: 'custom-handles', component: KtdCustomHandlesComponent},\n];\n\n@NgModule({\n    declarations: [KtdCustomHandlesComponent],\n    imports: [\n        CommonModule,\n        RouterModule.forChild(routes),\n        MatIconModule,\n        KtdGridModule\n    ]\n})\nexport class KtdCustomHandlesModule {}\n","import { compact, CompactType, getFirstCollision, Layout, LayoutItem, moveElement } from './react-grid-layout.utils';\nimport { KtdDraggingData, KtdGridCfg, KtdGridCompactType, KtdGridItemRect, KtdGridLayout, KtdGridLayoutItem } from '../grid.definitions';\nimport { ktdPointerClientX, ktdPointerClientY } from './pointer.utils';\nimport { KtdDictionary } from '../../types';\n\n/** Tracks items by id. This function is mean to be used in conjunction with the ngFor that renders the 'ktd-grid-items' */\nexport function ktdTrackById(index: number, item: {id: string}) {\n    return item.id;\n}\n\n/**\n * Call react-grid-layout utils 'compact()' function and return the compacted layout.\n * @param layout to be compacted.\n * @param compactType, type of compaction.\n * @param cols, number of columns of the grid.\n */\nexport function ktdGridCompact(layout: KtdGridLayout, compactType: KtdGridCompactType, cols: number): KtdGridLayout {\n    return compact(layout, compactType, cols)\n        // Prune react-grid-layout compact extra properties.\n        .map(item => ({id: item.id, x: item.x, y: item.y, w: item.w, h: item.h}));\n}\n\nfunction screenXPosToGridValue(screenXPos: number, cols: number, width: number): number {\n    return Math.round((screenXPos * cols) / width);\n}\n\nfunction screenYPosToGridValue(screenYPos: number, rowHeight: number, height: number): number {\n    return Math.round(screenYPos / rowHeight);\n}\n\n/** Returns a Dictionary where the key is the id and the value is the change applied to that item. If no changes Dictionary is empty. */\nexport function ktdGetGridLayoutDiff(gridLayoutA: KtdGridLayoutItem[], gridLayoutB: KtdGridLayoutItem[]): KtdDictionary<{ change: 'move' | 'resize' | 'moveresize' }> {\n    const diff: KtdDictionary<{ change: 'move' | 'resize' | 'moveresize' }> = {};\n\n    gridLayoutA.forEach(itemA => {\n        const itemB = gridLayoutB.find(_itemB => _itemB.id === itemA.id);\n        if (itemB != null) {\n            const posChanged = itemA.x !== itemB.x || itemA.y !== itemB.y;\n            const sizeChanged = itemA.w !== itemB.w || itemA.h !== itemB.h;\n            const change: 'move' | 'resize' | 'moveresize' | null = posChanged && sizeChanged ? 'moveresize' : posChanged ? 'move' : sizeChanged ? 'resize' : null;\n            if (change) {\n                diff[itemB.id] = {change};\n            }\n        }\n    });\n    return diff;\n}\n\n/**\n * Given the grid config & layout data and the current drag position & information, returns the corresponding layout and drag item position\n * @param gridItemId id of the grid item that is been dragged\n * @param config current grid configuration\n * @param compactionType type of compaction that will be performed\n * @param draggingData contains all the information about the drag\n */\nexport function ktdGridItemDragging(gridItemId: string, config: KtdGridCfg, compactionType: CompactType, draggingData: KtdDraggingData): { layout: KtdGridLayoutItem[]; draggedItemPos: KtdGridItemRect } {\n    const {pointerDownEvent, pointerDragEvent, gridElemClientRect, dragElemClientRect, scrollDifference} = draggingData;\n\n    const draggingElemPrevItem = config.layout.find(item => item.id === gridItemId)!;\n\n    const clientStartX = ktdPointerClientX(pointerDownEvent);\n    const clientStartY = ktdPointerClientY(pointerDownEvent);\n    const clientX = ktdPointerClientX(pointerDragEvent);\n    const clientY = ktdPointerClientY(pointerDragEvent);\n\n    const offsetX = clientStartX - dragElemClientRect.left;\n    const offsetY = clientStartY - dragElemClientRect.top;\n\n    // Grid element positions taking into account the possible scroll total difference from the beginning.\n    const gridElementLeftPosition = gridElemClientRect.left + scrollDifference.left;\n    const gridElementTopPosition = gridElemClientRect.top + scrollDifference.top;\n\n    // Calculate position relative to the grid element.\n    const gridRelXPos = clientX - gridElementLeftPosition - offsetX;\n    const gridRelYPos = clientY - gridElementTopPosition - offsetY;\n\n    // Get layout item position\n    const layoutItem: KtdGridLayoutItem = {\n        ...draggingElemPrevItem,\n        x: screenXPosToGridValue(gridRelXPos, config.cols, gridElemClientRect.width),\n        y: screenYPosToGridValue(gridRelYPos, config.rowHeight, gridElemClientRect.height)\n    };\n\n    // Correct the values if they overflow, since 'moveElement' function doesn't do it\n    layoutItem.x = Math.max(0, layoutItem.x);\n    layoutItem.y = Math.max(0, layoutItem.y);\n    if (layoutItem.x + layoutItem.w > config.cols) {\n        layoutItem.x = Math.max(0, config.cols - layoutItem.w);\n    }\n\n    // Parse to LayoutItem array data in order to use 'react.grid-layout' utils\n    const layoutItems: LayoutItem[] = config.layout;\n    const draggedLayoutItem: LayoutItem = layoutItems.find(item => item.id === gridItemId)!;\n\n    let newLayoutItems: LayoutItem[] = moveElement(\n        layoutItems,\n        draggedLayoutItem,\n        layoutItem.x,\n        layoutItem.y,\n        true,\n        config.preventCollision,\n        compactionType,\n        config.cols\n    );\n\n    newLayoutItems = compact(newLayoutItems, compactionType, config.cols);\n\n    return {\n        layout: newLayoutItems,\n        draggedItemPos: {\n            top: gridRelYPos,\n            left: gridRelXPos,\n            width: dragElemClientRect.width,\n            height: dragElemClientRect.height,\n        }\n    };\n}\n\n/**\n * Given the grid config & layout data and the current drag position & information, returns the corresponding layout and drag item position\n * @param gridItemId id of the grid item that is been dragged\n * @param config current grid configuration\n * @param compactionType type of compaction that will be performed\n * @param draggingData contains all the information about the drag\n */\nexport function ktdGridItemResizing(gridItemId: string, config: KtdGridCfg, compactionType: CompactType, draggingData: KtdDraggingData): { layout: KtdGridLayoutItem[]; draggedItemPos: KtdGridItemRect } {\n    const {pointerDownEvent, pointerDragEvent, gridElemClientRect, dragElemClientRect, scrollDifference} = draggingData;\n\n    const clientStartX = ktdPointerClientX(pointerDownEvent);\n    const clientStartY = ktdPointerClientY(pointerDownEvent);\n    const clientX = ktdPointerClientX(pointerDragEvent);\n    const clientY = ktdPointerClientY(pointerDragEvent);\n\n    // Get the difference between the mouseDown and the position 'right' of the resize element.\n    const resizeElemOffsetX = dragElemClientRect.width - (clientStartX - dragElemClientRect.left);\n    const resizeElemOffsetY = dragElemClientRect.height - (clientStartY - dragElemClientRect.top);\n\n    const draggingElemPrevItem = config.layout.find(item => item.id === gridItemId)!;\n    const width = clientX + resizeElemOffsetX - (dragElemClientRect.left + scrollDifference.left);\n    const height = clientY + resizeElemOffsetY - (dragElemClientRect.top + scrollDifference.top);\n\n\n    // Get layout item grid position\n    const layoutItem: KtdGridLayoutItem = {\n        ...draggingElemPrevItem,\n        w: screenXPosToGridValue(width, config.cols, gridElemClientRect.width),\n        h: screenYPosToGridValue(height, config.rowHeight, gridElemClientRect.height)\n    };\n\n    layoutItem.w = Math.max(1, layoutItem.w);\n    layoutItem.h = Math.max(1, layoutItem.h);\n    if (layoutItem.x + layoutItem.w > config.cols) {\n        layoutItem.w = Math.max(1, config.cols - layoutItem.x);\n    }\n\n    if (config.preventCollision) {\n        const maxW = layoutItem.w;\n        const maxH = layoutItem.h;\n\n        let colliding = hasCollision(config.layout, layoutItem);\n        let shrunkDimension: 'w' | 'h' | undefined;\n\n        while (colliding) {\n            shrunkDimension = getDimensionToShrink(layoutItem, shrunkDimension);\n            layoutItem[shrunkDimension]--;\n            colliding = hasCollision(config.layout, layoutItem);\n        }\n\n        if (shrunkDimension === 'w') {\n            layoutItem.h = maxH;\n\n            colliding = hasCollision(config.layout, layoutItem);\n            while (colliding) {\n                layoutItem.h--;\n                colliding = hasCollision(config.layout, layoutItem);\n            }\n        }\n        if (shrunkDimension === 'h') {\n            layoutItem.w = maxW;\n\n            colliding = hasCollision(config.layout, layoutItem);\n            while (colliding) {\n                layoutItem.w--;\n                colliding = hasCollision(config.layout, layoutItem);\n            }\n        }\n\n    }\n\n    const newLayoutItems: LayoutItem[] = config.layout.map((item) => {\n        return item.id === gridItemId ? layoutItem : item;\n    });\n\n    return {\n        layout: compact(newLayoutItems, compactionType, config.cols),\n        draggedItemPos: {\n            top: dragElemClientRect.top - gridElemClientRect.top,\n            left: dragElemClientRect.left - gridElemClientRect.left,\n            width,\n            height,\n        }\n    };\n}\n\nfunction hasCollision(layout: Layout, layoutItem: LayoutItem): boolean {\n    return !!getFirstCollision(layout, layoutItem);\n}\n\nfunction getDimensionToShrink(layoutItem, lastShrunk): 'w' | 'h' {\n    if (layoutItem.h <= 1) {\n        return 'w';\n    }\n    if (layoutItem.w <= 1) {\n        return 'h';\n    }\n\n    return lastShrunk === 'w' ? 'h' : 'w';\n}\n","import { NgZone } from '@angular/core';\nimport { Observable, Subscription } from 'rxjs';\nimport { filter } from 'rxjs/operators';\n\n/** Runs source observable outside the zone */\nexport function ktdOutsideZone<T>(zone: NgZone) {\n    return (source: Observable<T>) => {\n        return new Observable<T>(observer => {\n            return zone.runOutsideAngular<Subscription>(() => source.subscribe(observer));\n        });\n    };\n}\n\n\n/** Rxjs operator that makes source observable to no emit any data */\nexport function ktdNoEmit() {\n    return (source$: Observable<any>): Observable<any> => {\n        return source$.pipe(filter(() => false));\n    };\n}\n","import { Component, ElementRef, Inject, NgZone, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { MatSelectChange } from '@angular/material/select';\nimport { fromEvent, merge, Subscription } from 'rxjs';\nimport { debounceTime, filter } from 'rxjs/operators';\nimport { KtdDragEnd, KtdDragStart, KtdGridComponent, KtdGridLayout, KtdGridLayoutItem, KtdResizeEnd, KtdResizeStart, ktdTrackById } from 'projects/angular-grid-layout/src/public-api';\n\nimport { ktdArrayRemoveItem } from '../utils';\nimport { DOCUMENT } from '@angular/common';\nimport { coerceNumberProperty } from '@angular/cdk/coercion';\n\n@Component({\n    selector: 'ktd-playground',\n    templateUrl: './playground.component.html',\n    styleUrls: ['./playground.component.scss']\n})\nexport class KtdPlaygroundComponent implements OnInit, OnDestroy {\n    @ViewChild(KtdGridComponent, {static: true}) grid: KtdGridComponent;\n    trackById = ktdTrackById;\n\n    cols = 12;\n    rowHeight = 50;\n    compactType: 'vertical' | 'horizontal' | null = 'vertical';\n    layout: KtdGridLayout = [\n        {id: '0', x: 5, y: 0, w: 2, h: 3},\n        {id: '1', x: 2, y: 2, w: 1, h: 2},\n        {id: '2', x: 3, y: 7, w: 1, h: 2},\n        {id: '3', x: 2, y: 0, w: 3, h: 2},\n        {id: '4', x: 5, y: 3, w: 2, h: 3},\n        {id: '5', x: 0, y: 4, w: 1, h: 3},\n        {id: '6', x: 9, y: 0, w: 2, h: 4},\n        {id: '7', x: 9, y: 4, w: 2, h: 2},\n        {id: '8', x: 3, y: 2, w: 2, h: 5},\n        {id: '9', x: 7, y: 0, w: 1, h: 3},\n        {id: '10', x: 2, y: 4, w: 1, h: 4},\n        {id: '11', x: 0, y: 0, w: 2, h: 4}\n    ];\n    transitions: { name: string, value: string }[] = [\n        {name: 'ease', value: 'transform 500ms ease, width 500ms ease, height 500ms ease'},\n        {name: 'ease-out', value: 'transform 500ms ease-out, width 500ms ease-out, height 500ms ease-out'},\n        {name: 'linear', value: 'transform 500ms linear, width 500ms linear, height 500ms linear'},\n        {\n            name: 'overflowing',\n            value: 'transform 500ms cubic-bezier(.28,.49,.79,1.35), width 500ms cubic-bezier(.28,.49,.79,1.35), height 500ms cubic-bezier(.28,.49,.79,1.35)'\n        },\n        {name: 'fast', value: 'transform 200ms ease, width 200ms linear, height 200ms linear'},\n        {name: 'slow-motion', value: 'transform 1000ms linear, width 1000ms linear, height 1000ms linear'},\n        {name: 'transform-only', value: 'transform 500ms ease'},\n    ];\n    currentTransition: string = this.transitions[0].value;\n\n    dragStartThreshold = 0;\n    autoScroll = true;\n    disableDrag = false;\n    disableResize = false;\n    disableRemove = false;\n    autoResize = true;\n    preventCollision = false;\n    isDragging = false;\n    isResizing = false;\n    resizeSubscription: Subscription;\n\n    constructor(private ngZone: NgZone, public elementRef: ElementRef, @Inject(DOCUMENT) public document: Document) {\n        // this.ngZone.onUnstable.subscribe(() => console.log('UnStable'));\n    }\n\n    ngOnInit() {\n        this.resizeSubscription = merge(\n            fromEvent(window, 'resize'),\n            fromEvent(window, 'orientationchange')\n        ).pipe(\n            debounceTime(50),\n            filter(() => this.autoResize)\n        ).subscribe(() => {\n            this.grid.resize();\n        });\n    }\n\n    ngOnDestroy() {\n        this.resizeSubscription.unsubscribe();\n    }\n\n    onDragStarted(event: KtdDragStart) {\n        this.isDragging = true;\n    }\n\n    onResizeStarted(event: KtdResizeStart) {\n        this.isResizing = true;\n    }\n\n    onDragEnded(event: KtdDragEnd) {\n        this.isDragging = false;\n    }\n\n    onResizeEnded(event: KtdResizeEnd) {\n        this.isResizing = false;\n    }\n\n    onLayoutUpdated(layout: KtdGridLayout) {\n        console.log('on layout updated', layout);\n        this.layout = layout;\n    }\n\n    onCompactTypeChange(change: MatSelectChange) {\n        console.log('onCompactTypeChange', change);\n        this.compactType = change.value;\n    }\n\n    onTransitionChange(change: MatSelectChange) {\n        console.log('onTransitionChange', change);\n        this.currentTransition = change.value;\n    }\n\n    onAutoScrollChange(checked: boolean) {\n        this.autoScroll = checked;\n    }\n\n    onDisableDragChange(checked: boolean) {\n        this.disableDrag = checked;\n    }\n\n    onDisableResizeChange(checked: boolean) {\n        this.disableResize = checked;\n    }\n\n    onDisableRemoveChange(checked: boolean) {\n        this.disableRemove = checked;\n    }\n\n    onAutoResizeChange(checked: boolean) {\n        this.autoResize = checked;\n    }\n\n    onPreventCollisionChange(checked: boolean) {\n        this.preventCollision = checked;\n    }\n\n    onColsChange(event: Event) {\n        this.cols = coerceNumberProperty((event.target as HTMLInputElement).value);\n    }\n\n    onRowHeightChange(event: Event) {\n        this.rowHeight = coerceNumberProperty((event.target as HTMLInputElement).value);\n    }\n\n    onDragStartThresholdChange(event: Event) {\n        this.dragStartThreshold = coerceNumberProperty((event.target as HTMLInputElement).value);\n    }\n\n    generateLayout() {\n        const layout: KtdGridLayout = [];\n        for (let i = 0; i < this.cols; i++) {\n            const y = Math.ceil(Math.random() * 4) + 1;\n            layout.push({\n                x: Math.round(Math.random() * (Math.floor((this.cols / 2) - 1))) * 2,\n                y: Math.floor(i / 6) * y,\n                w: 2,\n                h: y,\n                id: i.toString()\n                // static: Math.random() < 0.05\n            });\n        }\n        console.log('layout', layout);\n        this.layout = layout;\n    }\n\n    /** Adds a grid item to the layout */\n    addItemToLayout() {\n        const maxId = this.layout.reduce((acc, cur) => Math.max(acc, parseInt(cur.id, 10)), -1);\n        const nextId = maxId + 1;\n\n        const newLayoutItem: KtdGridLayoutItem = {\n            id: nextId.toString(),\n            x: 0,\n            y: 0,\n            w: 2,\n            h: 2\n        };\n\n        // Important: Don't mutate the array, create new instance. This way notifies the Grid component that the layout has changed.\n        this.layout = [\n            newLayoutItem,\n            ...this.layout\n        ];\n    }\n\n    /**\n     * Fired when a mousedown happens on the remove grid item button.\n     * Stops the event from propagating an causing the drag to start.\n     * We don't want to drag when mousedown is fired on remove icon button.\n     */\n    stopEventPropagation(event: Event) {\n        event.preventDefault();\n        event.stopPropagation();\n    }\n\n    /** Removes the item from the layout */\n    removeItem(id: string) {\n        // Important: Don't mutate the array. Let Angular know that the layout has changed creating a new reference.\n        this.layout = ktdArrayRemoveItem(this.layout, (item) => item.id === id);\n    }\n}\n","<h1>Angular Grid Layout - Playground</h1>\n<div class=\"playground-container\">\n    <div class=\"layout-json\">\n    </div>\n    <div class=\"controls-container\">\n        <button mat-raised-button (click)=\"generateLayout()\">Generate layout</button>\n        <button mat-raised-button (click)=\"addItemToLayout()\">Add item</button>\n        <mat-form-field color=\"accent\">\n            <mat-label>Compact type</mat-label>\n            <mat-select [value]=\"compactType\" (selectionChange)=\"onCompactTypeChange($event)\">\n                <mat-option [value]=\"'vertical'\">vertical</mat-option>\n                <mat-option [value]=\"'horizontal'\">horizontal</mat-option>\n                <mat-option [value]=\"'none'\">-</mat-option>\n            </mat-select>\n        </mat-form-field>\n        <mat-form-field color=\"accent\" style=\"width: 64px\">\n            <mat-label>Columns</mat-label>\n            <input matInput type=\"number\" [value]=\"cols + ''\" (input)=\"onColsChange($event)\">\n        </mat-form-field>\n        <mat-form-field color=\"accent\" style=\"width: 64px\">\n            <mat-label>Row height</mat-label>\n            <input matInput type=\"number\" [value]=\"rowHeight + ''\" (input)=\"onRowHeightChange($event)\">\n        </mat-form-field>\n        <mat-form-field color=\"accent\" style=\"width: 128px\">\n            <mat-label>Drag Threshold</mat-label>\n            <input matInput type=\"number\" [value]=\"dragStartThreshold + ''\" (input)=\"onDragStartThresholdChange($event)\">\n        </mat-form-field>\n        <mat-form-field color=\"accent\">\n            <mat-label>Transition type</mat-label>\n            <mat-select [value]=\"currentTransition\" (selectionChange)=\"onTransitionChange($event)\">\n                <mat-option *ngFor=\"let transition of transitions\" [value]=\"transition.value\">{{transition.name}}</mat-option>\n            </mat-select>\n        </mat-form-field>\n        <mat-checkbox color=\"accent\"\n                      [checked]=\"autoScroll\"\n                      (change)=\"onAutoScrollChange($event.checked)\">\n            Auto scroll\n        </mat-checkbox>\n        <mat-checkbox color=\"accent\"\n                      [checked]=\"disableDrag\"\n                      (change)=\"onDisableDragChange($event.checked)\">\n            Disable drag\n        </mat-checkbox>\n        <mat-checkbox color=\"accent\"\n                      [checked]=\"disableResize\"\n                      (change)=\"onDisableResizeChange($event.checked)\">\n            Disable resize\n        </mat-checkbox>\n        <mat-checkbox color=\"accent\"\n                      [checked]=\"disableRemove\"\n                      (change)=\"onDisableRemoveChange($event.checked)\">\n            Disable remove\n        </mat-checkbox>\n        <mat-checkbox color=\"accent\"\n                      [checked]=\"autoResize\"\n                      (change)=\"onAutoResizeChange($event.checked)\">\n            Auto resize\n        </mat-checkbox>\n        <mat-checkbox color=\"accent\"\n                      [checked]=\"preventCollision\"\n                      (change)=\"onPreventCollisionChange($event.checked)\">\n            Prevent Collision\n        </mat-checkbox>\n        <mat-chip-list>\n            <mat-chip color=\"accent\" [selected]=\"isDragging\">isDragging</mat-chip>\n            <mat-chip color=\"accent\" [selected]=\"isResizing\">isResizing</mat-chip>\n        </mat-chip-list>\n    </div>\n\n    <div class=\"grid-container\">\n        <ktd-grid [cols]=\"cols\"\n                  [rowHeight]=\"rowHeight\"\n                  [layout]=\"layout\"\n                  [compactType]=\"compactType\"\n                  [preventCollision]=\"preventCollision\"\n                  [scrollableParent]=\"autoScroll ? document : null\"\n                  scrollSpeed=\"4\"\n                  (dragStarted)=\"onDragStarted($event)\"\n                  (resizeStarted)=\"onResizeStarted($event)\"\n                  (dragEnded)=\"onDragEnded($event)\"\n                  (resizeEnded)=\"onResizeEnded($event)\"\n                  (layoutUpdated)=\"onLayoutUpdated($event)\">\n            <ktd-grid-item *ngFor=\"let item of layout; trackBy:trackById\"\n                           [id]=\"item.id\"\n                           [transition]=\"currentTransition\"\n                           [dragStartThreshold]=\"dragStartThreshold\"\n                           [draggable]=\"!disableDrag\"\n                           [resizable]=\"!disableResize\">\n                <div class=\"grid-item-content\">{{item.id}}</div>\n                <div class=\"grid-item-remove-handle\"\n                     *ngIf=\"!disableRemove\"\n                     (mousedown)=\"stopEventPropagation($event)\"\n                     (click)=\"removeItem(item.id)\">\n                </div>\n            </ktd-grid-item>\n        </ktd-grid>\n    </div>\n</div>\n<h2 style=\"margin-top: 16px\">Other examples: </h2>\n<div style=\"display: flex; flex-direction: column\">\n    <a [routerLink]=\"['/custom-handles']\">Custom handles</a>\n    <a [routerLink]=\"['/real-life-example']\">Real life example</a>\n    <a [routerLink]=\"['/scroll-test']\">Scroll test</a>\n</div>\n","/**\n * Removes and item from an array. Returns a new array instance (it doesn't mutate the source array).\n * @param array source array to be returned without the element to remove\n * @param condition function that will return true for the item that we want to remove\n */\nexport function ktdArrayRemoveItem<T>(array: T[], condition: (item: T) => boolean) {\n    const arrayCopy = [...array];\n    const index = array.findIndex((item) => condition(item));\n    if (index > -1) {\n        arrayCopy.splice(index, 1);\n    }\n    return arrayCopy;\n}\n","export const countriesPopulation = [\n    {\n        name: 'Germany',\n        value: 8940000\n    },\n    {\n        name: 'USA',\n        value: 5000000\n    },\n    {\n        name: 'France',\n        value: 7200000\n    },\n    {\n        name: 'Italy',\n        value: 4500000\n    },\n    {\n        name: 'Spain',\n        value: 5730000\n    }, {\n        name: 'UK',\n        value: 8200000\n    }\n];\n\nexport const countriesPopulationByYear = [\n    {\n        name: 'Germany',\n        series: [\n            {\n                name: '1990',\n                value: 62000000\n            },\n            {\n                name: '2010',\n                value: 73000000\n            },\n            {\n                name: '2011',\n                value: 89400000\n            }\n        ]\n    },\n\n    {\n        name: 'USA',\n        series: [\n            {\n                name: '1990',\n                value: 250000000\n            },\n            {\n                name: '2010',\n                value: 309000000\n            },\n            {\n                name: '2011',\n                value: 311000000\n            }\n        ]\n    },\n\n    {\n        name: 'France',\n        series: [\n            {\n                name: '1990',\n                value: 58000000\n            },\n            {\n                name: '2010',\n                value: 50000020\n            },\n            {\n                name: '2011',\n                value: 58000000\n            }\n        ]\n    },\n    {\n        name: 'UK',\n        series: [\n            {\n                name: '1990',\n                value: 57000000\n            },\n            {\n                name: '2010',\n                value: 62000000\n            }\n        ]\n    }\n];\n\n\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { KtdAppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(KtdAppModule)\n  .catch(err => console.error(err));\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { KtdPlaygroundComponent } from './playground.component';\nimport { RouterModule, Routes } from '@angular/router';\nimport { KtdGridModule } from 'projects/angular-grid-layout/src/public-api';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatChipsModule } from '@angular/material/chips';\n\nconst routes: Routes = [\n    {path: 'playground', component: KtdPlaygroundComponent},\n];\n\n\n@NgModule({\n    declarations: [KtdPlaygroundComponent],\n    imports: [\n        CommonModule,\n        RouterModule.forChild(routes),\n        KtdGridModule,\n        MatButtonModule,\n        MatSelectModule,\n        MatCheckboxModule,\n        MatInputModule,\n        MatChipsModule\n    ]\n})\nexport class KtdPlaygroundModule {}\n","import {AfterViewInit, Component, ViewChild} from '@angular/core';\nimport {MatSort} from '@angular/material/sort';\nimport {MatTableDataSource} from '@angular/material/table';\n\ninterface PeriodicElement {\n    name: string;\n    position: number;\n    weight: number;\n    symbol: string;\n}\n\nconst ELEMENT_DATA: PeriodicElement[] = [\n    {position: 1, name: 'Hydrogen', weight: 1.0079, symbol: 'H'},\n    {position: 2, name: 'Helium', weight: 4.0026, symbol: 'He'},\n    {position: 3, name: 'Lithium', weight: 6.941, symbol: 'Li'},\n    {position: 4, name: 'Beryllium', weight: 9.0122, symbol: 'Be'},\n    {position: 5, name: 'Boron', weight: 10.811, symbol: 'B'},\n    {position: 6, name: 'Carbon', weight: 12.0107, symbol: 'C'},\n    {position: 7, name: 'Nitrogen', weight: 14.0067, symbol: 'N'},\n    {position: 8, name: 'Oxygen', weight: 15.9994, symbol: 'O'},\n    {position: 9, name: 'Fluorine', weight: 18.9984, symbol: 'F'},\n    {position: 10, name: 'Neon', weight: 20.1797, symbol: 'Ne'},\n];\n\n/**\n * @title Table with sorting\n */\n@Component({\n    selector: 'ktd-table-sorting',\n    styleUrls: ['table-sorting.component.scss'],\n    templateUrl: 'table-sorting.component.html',\n})\nexport class KtdTableSortingComponent implements AfterViewInit {\n    displayedColumns: string[] = ['position', 'name', 'weight', 'symbol'];\n    dataSource = new MatTableDataSource(ELEMENT_DATA);\n\n    @ViewChild(MatSort) sort: MatSort;\n\n    ngAfterViewInit() {\n        this.dataSource.sort = this.sort;\n    }\n}\n\n","<table mat-table [dataSource]=\"dataSource\" matSort class=\"mat-elevation-z8\">\n\n    <!-- Position Column -->\n    <ng-container matColumnDef=\"position\">\n        <th mat-header-cell *matHeaderCellDef mat-sort-header> No. </th>\n        <td mat-cell *matCellDef=\"let element\"> {{element.position}} </td>\n    </ng-container>\n\n    <!-- Name Column -->\n    <ng-container matColumnDef=\"name\">\n        <th mat-header-cell *matHeaderCellDef mat-sort-header> Name </th>\n        <td mat-cell *matCellDef=\"let element\"> {{element.name}} </td>\n    </ng-container>\n\n    <!-- Weight Column -->\n    <ng-container matColumnDef=\"weight\">\n        <th mat-header-cell *matHeaderCellDef mat-sort-header> Weight </th>\n        <td mat-cell *matCellDef=\"let element\"> {{element.weight}} </td>\n    </ng-container>\n\n    <!-- Symbol Column -->\n    <ng-container matColumnDef=\"symbol\">\n        <th mat-header-cell *matHeaderCellDef mat-sort-header> Symbol </th>\n        <td mat-cell *matCellDef=\"let element\"> {{element.symbol}} </td>\n    </ng-container>\n\n    <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n    <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\n</table>\n","import {\n    AfterContentInit, ChangeDetectionStrategy, Component, ContentChildren, ElementRef, Inject, Input, NgZone, OnDestroy, OnInit, QueryList, Renderer2,\n    ViewChild\n} from '@angular/core';\nimport { BehaviorSubject, iif, merge, NEVER, Observable, Subject, Subscription } from 'rxjs';\nimport { exhaustMap, filter, map, startWith, switchMap, take, takeUntil } from 'rxjs/operators';\nimport { ktdMouseOrTouchDown, ktdMouseOrTouchEnd, ktdPointerClient } from '../utils/pointer.utils';\nimport { GRID_ITEM_GET_RENDER_DATA_TOKEN, KtdGridItemRenderDataTokenType } from '../grid.definitions';\nimport { KTD_GRID_DRAG_HANDLE, KtdGridDragHandle } from '../directives/drag-handle';\nimport { KTD_GRID_RESIZE_HANDLE, KtdGridResizeHandle } from '../directives/resize-handle';\nimport { KtdGridService } from '../grid.service';\nimport { ktdOutsideZone } from '../utils/operators';\nimport { BooleanInput, coerceBooleanProperty } from '../coercion/boolean-property';\nimport { coerceNumberProperty, NumberInput } from '../coercion/number-property';\n\n@Component({\n    selector: 'ktd-grid-item',\n    templateUrl: './grid-item.component.html',\n    styleUrls: ['./grid-item.component.scss'],\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class KtdGridItemComponent implements OnInit, OnDestroy, AfterContentInit {\n    /** Elements that can be used to drag the grid item. */\n    @ContentChildren(KTD_GRID_DRAG_HANDLE, {descendants: true}) _dragHandles: QueryList<KtdGridDragHandle>;\n    @ContentChildren(KTD_GRID_RESIZE_HANDLE, {descendants: true}) _resizeHandles: QueryList<KtdGridResizeHandle>;\n    @ViewChild('resizeElem', {static: true, read: ElementRef}) resizeElem: ElementRef;\n\n    /** CSS transition style. Note that for more performance is preferable only make transition on transform property. */\n    @Input() transition: string = 'transform 500ms ease, width 500ms ease, height 500ms ease';\n\n    dragStart$: Observable<MouseEvent | TouchEvent>;\n    resizeStart$: Observable<MouseEvent | TouchEvent>;\n\n    /** Id of the grid item. This property is strictly compulsory. */\n    @Input()\n    get id(): string {\n        return this._id;\n    }\n\n    set id(val: string) {\n        this._id = val;\n    }\n\n    private _id: string;\n\n    /** Minimum amount of pixels that the user should move before it starts the drag sequence. */\n    @Input()\n    get dragStartThreshold(): number { return this._dragStartThreshold; }\n\n    set dragStartThreshold(val: number) {\n        this._dragStartThreshold = coerceNumberProperty(val);\n    }\n\n    private _dragStartThreshold: number = 0;\n\n\n    /** Whether the item is draggable or not. Defaults to true. */\n    @Input()\n    get draggable(): boolean {\n        return this._draggable;\n    }\n\n    set draggable(val: boolean) {\n        this._draggable = coerceBooleanProperty(val);\n        this._draggable$.next(this._draggable);\n    }\n\n    private _draggable: boolean = true;\n    private _draggable$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(this._draggable);\n\n    /** Whether the item is resizable or not. Defaults to true. */\n    @Input()\n    get resizable(): boolean {\n        return this._resizable;\n    }\n\n    set resizable(val: boolean) {\n        this._resizable = coerceBooleanProperty(val);\n        this._resizable$.next(this._resizable);\n    }\n\n    private _resizable: boolean = true;\n    private _resizable$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(this._resizable);\n\n    private dragStartSubject: Subject<MouseEvent | TouchEvent> = new Subject<MouseEvent | TouchEvent>();\n    private resizeStartSubject: Subject<MouseEvent | TouchEvent> = new Subject<MouseEvent | TouchEvent>();\n\n    private subscriptions: Subscription[] = [];\n\n    constructor(public elementRef: ElementRef,\n                private gridService: KtdGridService,\n                private renderer: Renderer2,\n                private ngZone: NgZone,\n                @Inject(GRID_ITEM_GET_RENDER_DATA_TOKEN) private getItemRenderData: KtdGridItemRenderDataTokenType) {\n        this.dragStart$ = this.dragStartSubject.asObservable();\n        this.resizeStart$ = this.resizeStartSubject.asObservable();\n    }\n\n    ngOnInit() {\n        const gridItemRenderData = this.getItemRenderData(this.id)!;\n        this.setStyles(gridItemRenderData);\n    }\n\n    ngAfterContentInit() {\n        this.subscriptions.push(\n            this._dragStart$().subscribe(this.dragStartSubject),\n            this._resizeStart$().subscribe(this.resizeStartSubject),\n        );\n    }\n\n    ngOnDestroy() {\n        this.subscriptions.forEach(sub => sub.unsubscribe());\n    }\n\n    setStyles({top, left, width, height}: { top: string, left: string, width?: string, height?: string }) {\n        // transform is 6x times faster than top/left\n        this.renderer.setStyle(this.elementRef.nativeElement, 'transform', `translateX(${left}) translateY(${top})`);\n        this.renderer.setStyle(this.elementRef.nativeElement, 'display', `block`);\n        this.renderer.setStyle(this.elementRef.nativeElement, 'transition', this.transition);\n        if (width != null) { this.renderer.setStyle(this.elementRef.nativeElement, 'width', width); }\n        if (height != null) {this.renderer.setStyle(this.elementRef.nativeElement, 'height', height); }\n    }\n\n    private _dragStart$(): Observable<MouseEvent | TouchEvent> {\n        return this._draggable$.pipe(\n            switchMap((draggable) => {\n                if (!draggable) {\n                    return NEVER;\n                } else {\n                    return this._dragHandles.changes.pipe(\n                        startWith(this._dragHandles),\n                        switchMap((dragHandles: QueryList<KtdGridDragHandle>) => {\n                            return iif(\n                                () => dragHandles.length > 0,\n                                merge(...dragHandles.toArray().map(dragHandle => ktdMouseOrTouchDown(dragHandle.element.nativeElement, 1))),\n                                ktdMouseOrTouchDown(this.elementRef.nativeElement, 1)\n                            ).pipe(\n                                exhaustMap((startEvent) => {\n                                    // If the event started from an element with the native HTML drag&drop, it'll interfere\n                                    // with our own dragging (e.g. `img` tags do it by default). Prevent the default action\n                                    // to stop it from happening. Note that preventing on `dragstart` also seems to work, but\n                                    // it's flaky and it fails if the user drags it away quickly. Also note that we only want\n                                    // to do this for `mousedown` since doing the same for `touchstart` will stop any `click`\n                                    // events from firing on touch devices.\n                                    if (startEvent.target && (startEvent.target as HTMLElement).draggable && startEvent.type === 'mousedown') {\n                                        startEvent.preventDefault();\n                                    }\n\n                                    const startPointer = ktdPointerClient(startEvent);\n                                    return this.gridService.mouseOrTouchMove$(document).pipe(\n                                        takeUntil(ktdMouseOrTouchEnd(document, 1)),\n                                        ktdOutsideZone(this.ngZone),\n                                        filter((moveEvent) => {\n                                            moveEvent.preventDefault();\n                                            const movePointer = ktdPointerClient(moveEvent);\n                                            const distanceX = Math.abs(startPointer.clientX - movePointer.clientX);\n                                            const distanceY = Math.abs(startPointer.clientY - movePointer.clientY);\n                                            // When this conditions returns true mean that we are over threshold.\n                                            return distanceX + distanceY >= this.dragStartThreshold;\n                                        }),\n                                        take(1),\n                                        // Return the original start event\n                                        map(() => startEvent)\n                                    );\n                                })\n                            );\n                        })\n                    );\n                }\n            })\n        );\n    }\n\n    private _resizeStart$(): Observable<MouseEvent | TouchEvent> {\n        return this._resizable$.pipe(\n            switchMap((resizable) => {\n                if (!resizable) {\n                    // Side effect to hide the resizeElem if resize is disabled.\n                    this.renderer.setStyle(this.resizeElem.nativeElement, 'display', 'none');\n                    return NEVER;\n                } else {\n                    return this._resizeHandles.changes.pipe(\n                        startWith(this._resizeHandles),\n                        switchMap((resizeHandles: QueryList<KtdGridResizeHandle>) => {\n                            if (resizeHandles.length > 0) {\n                                // Side effect to hide the resizeElem if there are resize handles.\n                                this.renderer.setStyle(this.resizeElem.nativeElement, 'display', 'none');\n                                return merge(...resizeHandles.toArray().map(resizeHandle => ktdMouseOrTouchDown(resizeHandle.element.nativeElement, 1)));\n                            } else {\n                                this.renderer.setStyle(this.resizeElem.nativeElement, 'display', 'block');\n                                return ktdMouseOrTouchDown(this.resizeElem.nativeElement, 1);\n                            }\n                        })\n                    );\n                }\n            })\n        );\n    }\n\n\n    // tslint:disable-next-line\n    static ngAcceptInputType_draggable: BooleanInput;\n    // tslint:disable-next-line\n    static ngAcceptInputType_resizable: BooleanInput;\n    // tslint:disable-next-line\n    static ngAcceptInputType_dragStartThreshold: NumberInput;\n\n}\n","<ng-content></ng-content>\n<div #resizeElem class=\"grid-item-resize-icon\"></div>\n","import { fromEvent, iif, merge, Observable } from 'rxjs';\nimport { filter } from 'rxjs/operators';\nimport { ktdNormalizePassiveListenerOptions } from './passive-listeners';\n\n/** Options that can be used to bind a passive event listener. */\nconst passiveEventListenerOptions = ktdNormalizePassiveListenerOptions({passive: true});\n\n/** Options that can be used to bind an active event listener. */\nconst activeEventListenerOptions = ktdNormalizePassiveListenerOptions({passive: false});\n\nlet isMobile: boolean | null = null;\n\nexport function ktdIsMobileOrTablet(): boolean {\n\n    if (isMobile != null) {\n        return isMobile;\n    }\n\n    // Generic match pattern to identify mobile or tablet devices\n    const isMobileDevice = /Android|webOS|BlackBerry|Windows Phone|iPad|iPhone|iPod/i.test(navigator.userAgent);\n\n    // Since IOS 13 is not safe to just check for the generic solution. See: https://stackoverflow.com/questions/58019463/how-to-detect-device-name-in-safari-on-ios-13-while-it-doesnt-show-the-correct\n    const isIOSMobileDevice = /iPad|iPhone|iPod/.test(navigator.platform) || (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1);\n\n    isMobile = isMobileDevice || isIOSMobileDevice;\n\n    return isMobile;\n}\n\nexport function ktdIsMouseEvent(event: any): event is MouseEvent {\n    return (event as MouseEvent).clientX != null;\n}\n\nexport function ktdIsTouchEvent(event: any): event is TouchEvent {\n    return (event as TouchEvent).touches != null && (event as TouchEvent).touches.length != null;\n}\n\nexport function ktdPointerClientX(event: MouseEvent | TouchEvent): number {\n    return ktdIsMouseEvent(event) ? event.clientX : event.touches[0].clientX;\n}\n\nexport function ktdPointerClientY(event: MouseEvent | TouchEvent): number {\n    return ktdIsMouseEvent(event) ? event.clientY : event.touches[0].clientY;\n}\n\nexport function ktdPointerClient(event: MouseEvent | TouchEvent): {clientX: number, clientY: number} {\n    return  {\n        clientX: ktdIsMouseEvent(event) ? event.clientX : event.touches[0].clientX,\n        clientY: ktdIsMouseEvent(event) ? event.clientY : event.touches[0].clientY\n    };\n}\n\n/**\n * Emits when a mousedown or touchstart emits. Avoids conflicts between both events.\n * @param element, html element where to  listen the events.\n * @param touchNumber number of the touch to track the event, default to the first one.\n */\nexport function ktdMouseOrTouchDown(element, touchNumber = 1): Observable<MouseEvent | TouchEvent> {\n    return iif(\n        () => ktdIsMobileOrTablet(),\n        fromEvent<TouchEvent>(element, 'touchstart', passiveEventListenerOptions as AddEventListenerOptions).pipe(\n            filter((touchEvent) => touchEvent.touches.length === touchNumber)\n        ),\n        fromEvent<MouseEvent>(element, 'mousedown', activeEventListenerOptions as AddEventListenerOptions).pipe(\n            filter((mouseEvent: MouseEvent) => {\n                /**\n                 * 0 : Left mouse button\n                 * 1 : Wheel button or middle button (if present)\n                 * 2 : Right mouse button\n                 */\n                return mouseEvent.button === 0; // Mouse down to be only fired if is left click\n            })\n        )\n    );\n}\n\n/**\n * Emits when a 'mousemove' or a 'touchmove' event gets fired.\n * @param element, html element where to  listen the events.\n * @param touchNumber number of the touch to track the event, default to the first one.\n */\nexport function ktdMouseOrTouchMove(element, touchNumber = 1): Observable<MouseEvent | TouchEvent> {\n    return iif(\n        () => ktdIsMobileOrTablet(),\n        fromEvent<TouchEvent>(element, 'touchmove', activeEventListenerOptions as AddEventListenerOptions).pipe(\n            filter((touchEvent) => touchEvent.touches.length === touchNumber),\n        ),\n        fromEvent<MouseEvent>(element, 'mousemove', activeEventListenerOptions as AddEventListenerOptions)\n    );\n}\n\nexport function ktdTouchEnd(element, touchNumber = 1): Observable<TouchEvent> {\n    return merge(\n        fromEvent<TouchEvent>(element, 'touchend').pipe(\n            filter((touchEvent) => touchEvent.touches.length === touchNumber - 1)\n        ),\n        fromEvent<TouchEvent>(element, 'touchcancel').pipe(\n            filter((touchEvent) => touchEvent.touches.length === touchNumber - 1)\n        )\n    );\n}\n\n/**\n * Emits when a there is a 'mouseup' or the touch ends.\n * @param element, html element where to  listen the events.\n * @param touchNumber number of the touch to track the event, default to the first one.\n */\nexport function ktdMouseOrTouchEnd(element, touchNumber = 1): Observable<MouseEvent | TouchEvent> {\n    return iif(\n        () => ktdIsMobileOrTablet(),\n        ktdTouchEnd(element, touchNumber),\n        fromEvent<MouseEvent>(element, 'mouseup'),\n    );\n}\n","/** Cached result of whether the user's browser supports passive event listeners. */\nlet supportsPassiveEvents: boolean;\n\n/**\n * Checks whether the user's browser supports passive event listeners.\n * See: https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md\n */\nexport function ktdSupportsPassiveEventListeners(): boolean {\n    if (supportsPassiveEvents == null && typeof window !== 'undefined') {\n        try {\n            window.addEventListener('test', null!, Object.defineProperty({}, 'passive', {\n                get: () => supportsPassiveEvents = true\n            }));\n        } finally {\n            supportsPassiveEvents = supportsPassiveEvents || false;\n        }\n    }\n\n    return supportsPassiveEvents;\n}\n\n/**\n * Normalizes an `AddEventListener` object to something that can be passed\n * to `addEventListener` on any browser, no matter whether it supports the\n * `options` parameter.\n * @param options Object to be normalized.\n */\nexport function ktdNormalizePassiveListenerOptions(options: AddEventListenerOptions):\n    AddEventListenerOptions | boolean {\n    return ktdSupportsPassiveEventListeners() ? options : !!options.capture;\n}\n","import { Directive, ElementRef, InjectionToken, } from '@angular/core';\n\n\n/**\n * Injection token that can be used to reference instances of `KtdGridResizeHandle`. It serves as\n * alternative token to the actual `KtdGridResizeHandle` class which could cause unnecessary\n * retention of the class and its directive metadata.\n */\nexport const KTD_GRID_RESIZE_HANDLE = new InjectionToken<KtdGridResizeHandle>('KtdGridResizeHandle');\n\n/** Handle that can be used to drag a KtdGridItem instance. */\n@Directive({\n    selector: '[ktdGridResizeHandle]',\n    host: {\n        class: 'ktd-grid-resize-handle'\n    },\n    providers: [{provide: KTD_GRID_RESIZE_HANDLE, useExisting: KtdGridResizeHandle}],\n})\nexport class KtdGridResizeHandle {\n\n    constructor(\n        public element: ElementRef<HTMLElement>) {\n    }\n}\n","import { Component } from '@angular/core';\n\n\n@Component({\n    selector: 'ktd-root',\n    templateUrl: './app.component.html',\n    styleUrls: ['./app.component.scss']\n})\nexport class KtdAppComponent {\n\n\n    constructor() {\n    }\n}\n","\n<router-outlet></router-outlet>\n\n\n","import { Directive, ElementRef, InjectionToken } from '@angular/core';\n\n/**\n * Injection token that can be used to reference instances of `KtdGridDragHandle`. It serves as\n * alternative token to the actual `KtdGridDragHandle` class which could cause unnecessary\n * retention of the class and its directive metadata.\n */\nexport const KTD_GRID_DRAG_HANDLE = new InjectionToken<KtdGridDragHandle>('KtdGridDragHandle');\n\n/** Handle that can be used to drag a KtdGridItem instance. */\n@Directive({\n    selector: '[ktdGridDragHandle]',\n    host: {\n        class: 'ktd-grid-drag-handle'\n    },\n    providers: [{provide: KTD_GRID_DRAG_HANDLE, useExisting: KtdGridDragHandle}],\n})\n// tslint:disable-next-line:directive-class-suffix\nexport class KtdGridDragHandle {\n    constructor(\n        public element: ElementRef<HTMLElement>) {\n    }\n}\n"],"sourceRoot":"webpack:///"}